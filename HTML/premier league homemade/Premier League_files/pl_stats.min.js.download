"use strict";PULSE.app.templates.chooseplayer='{{#content}}<li class="selectionStatChooserContainer" data-type="player" data-id="{{ id }}" data-name="{{ displayName }}" data-opta-id="{{ optaId }}" data-position="{{ position }}" data-team-opta="{{ currentOpta }}" data-season="{{ season }}"><div class="badgeContainer"><div alt="" class="badge-20 {{ currentOpta }}"></div></div><img class="img playerPhotoContainer" data-player="{{ optaId }}" data-size="{{ imageSize }}" src="{{ displayName }}"><div class="details"><div class="name">{{ displayName }}</div><div class="position">{{ position }}</div></div></li>{{/content}}',PULSE.app.templates.chooseteam='{{#content}}<li><div class="selectionStatChooserContainer" data-type="team" data-id="{{ id }}" data-team-name="{{ name }}" data-opta-id="{{ optaId }}" data-season="{{ season }}"><div class="plus-icon-small"><span class="icn add-w-sm"></span></div><span class="badge-50 {{ optaId }}"></span> <span class="badge-25 {{ optaId }}"></span><p>{{ name }}</p></div></li>{{/content}}',PULSE.app.templates.comparisonstats='<table class="comparisonTable"><thead><tr><th class="empty"></th>{{#scopes}}<th scope="col" class="stat {{ className }}">{{ label }}</th>{{/scopes}}</tr></thead><tbody>{{#comparison}}<tr><th scope="row">{{ label }}</th>{{#teamStatsArray}} {{#scopeArray}}<td class="{{ className }}">{{ stat }}</td>{{/scopeArray}} {{/teamStatsArray}}</tr>{{/comparison}}</tbody></table>',PULSE.app.templates.nextcomparisonplayer='<div class="selectionBox comparisionChooserContainer {{ className }}"><div class="plus-icon"><span class="icn add-w-n"></span></div><p class="add-club"><span>{{ selectLabel }}</span></p><div class="comparisonCard player active"><div class="badgeContainer"><div alt="" class="badge-20 {{ teamOpta }}"></div></div><img class="photo playerPhotoContainer" data-player="{{ optaId }}" data-size="{{ imageSize }}" src="{{ name }}"><div class="details"><div class="name">{{ name }}</div><div class="position">{{ position }}</div></div></div></div>',PULSE.app.templates.nextcomparisonteam='<div class="selectionBox comparisionChooserContainer {{ className }}"><div class="plus-icon"><span class="icn add-w-n"></span></div><p class="add-club"><span>{{ selectLabel }}</span></p><div class="comparisonCard"><div class="team-badge"><span class="badge-100 {{ opta }}"></span> <span class="badge-70 {{ opta }}"></span></div><div class="team-name"><h4>{{ teamName }}</h4></div><p class="add-club"><span>{{ removeLabel }}</span></p></div></div>',PULSE.app.templates.teamdropdown='<div class="current currentStatContainer">All</div><ul class="dropdownList"><li data-label="{{ allLabel }}">{{ allLabel }}</li>{{#teams}}<li data-label="{{ name }}" data-team-id="{{ id }}">{{ name }}</li>{{/teams}}</ul>',PULSE.app.templates.headtoheadstats='<div class="played-section"><div class="total-played"><div class="team-one-badge"><span class="badge-20 {{ optaId.0 }}"></span></div><p><span>Played:</span> {{ matchesPlayed }}</p><div class="team-two-badge"><span class="badge-20 {{ optaId.1 }}"></span></div></div><table><tr><td class="bar {{ optaId.0 }}-bg" style="width: {{ width.0 }}%;">{{ wins.0 }}</td><td class="bar grey-bg" style="width: {{ width.2 }}%;">Drawn: {{ draws }}</td><td class="bar {{ optaId.1 }}-bg" style="width: {{ width.1 }}%;">{{ wins.1 }}</td></tr></table></div><table class="head-to-head-stats"><tbody>{{#stats}}<tr><td><p class="{{ statsClass.0 }}">{{ stats.0 }}</p></td><td><p>{{ label }}</p></td><td><p class="{{ statsClass.1 }}">{{ stats.1 }}</p></td></tr>{{/stats}}</tbody></table><div class="previous-meetings"><h4>{{ previousMeetingsHeader }}</h4>{{#isThereAnyHeadToHeads}}<ul class="matchList">{{#headToHeads}}<li class="matchFixtureContainer"><time>{{ matchDate }}</time> <span class="stadiumName"><p><span class="icn stadium-b"></span>{{ matchVenue }}</p></span><a data-template-rendered href="{{ matchUrl }}" class="fixture"><span class="overview"><span class="teams"><span class="team"><span class="teamName">{{ teamName.0 }} </span><span class="badge-25 {{ optaId.0 }}"></span> </span><span class="score">{{ score.0 }}<span>-</span>{{ score.1 }}</span> <span class="team"><span class="badge-25 {{ optaId.1 }}"></span> <span class="teamName">{{ teamName.1 }} </span></span></span><span class="icn arrow-right"></span></span></a></li>{{/headToHeads}}</ul>{{/isThereAnyHeadToHeads}} {{^isThereAnyHeadToHeads}}<div class="noContentContainer headToHeadNoMatch">{{noHeadToHeadsMessage}}</div>{{/isThereAnyHeadToHeads}}</div>',PULSE.app.templates.headtoheadteam='<div class="team-card" data-team-id="{{ id }}" data-team-name="{{ name }}" data-opta-id="{{ opta }}"><div class="plus-icon-small"><span class="icn add-w-sm"></span></div><span class="badge-50 {{ opta }}"></span> <span class="badge-25 {{ opta }}"></span><p>{{ name }}</p></div>',PULSE.app.templates.playercard='<div class="player-comparison__player-card"><h3 class="player-comparison__player-name">{{ name }}</h3><span class="player-comparison__player-pos">{{ position }}</span><div class="player-comparison__player-img-wrap{{^isActive}} player-comparison__player-img-wrap--crop{{/isActive}}"><img class="player-comparison__player-img playerPhotoContainer" data-player="{{ optaId }}" data-size="{{ imageSize }}" src="{{ image }}" alt="{{ labelFor }} {{ name }}"></div><a class="player-comparison__player-switch" href="#" data-add-player><span class="player-comparison__change-icn"></span> <span class="player-comparison__change-label">{{ labelChangeBtn }}</span></a></div><div class="player-comparison__range-filter"><div class="player-comparison__range-checkbox"><div class="player-comparison__checkbox-wrap"><input class="player-comparison__checkbox" type="checkbox" name="player-range-{{ slot }}" aria-label="{{ labelCheckbox }}"> <label class="player-comparison__checkbox-label" for="player-range-{{ slot }}">{{ labelCheckbox }}</label></div></div><div class="player-comparison__range-filter-wrap" data-player-id="{{ id }}"><section class="player-comparison__filter js-secondary-filters" data-filter-config="playerComparisonRange" data-reset-available="false"></section></div></div>',PULSE.app.templates.playerstat='<div class="player-comparison__stat"><div class="player-comparison__stat-name">{{label}}</div><div class="player-comparison__stat-value" data-stat="{{ key }}" data-stat-val="{{ value }}"><span>{{ value }}</span></div></div>',PULSE.app.templates.playerstats='<li class="player-comparison__stats-group"><div class="player-comparison__stats-group-header" role="button" tabindex="0"><h4 class="player-comparison__stats-group-title">{{ label }}</h4><span class="icn chevron-downblack-normal"></span></div><div class="player-comparison__stats"><div class="player-comparison__player-stats" data-player-slot="0"></div><div class="player-comparison__player-stats" data-player-slot="1"></div></div></li>',PULSE.app.templates.searchempty='<div class="player-comparison__search-empty noContentContainer">{{label}}</div>',PULSE.app.templates.searchresults='{{#players}}<li class="player-comparison__result" data-compseason-id="{{ compSeasonId }}" data-player-id="{{ id }}"><span class="player-comparison__plus player-comparison__plus--sm">+</span> <span class="player-comparison__result-name">{{ name }} </span><span class="player-comparison__result-position">{{ position }}</span></li>{{/players}}',PULSE.app.templates.widgetdef='<div class="player-comparison-editorial__players-images"><div class="player-comparison-editorial__player-img-wrap{{^player0.isActive}} player-comparison-editorial__player-img-wrap--crop{{/player0.isActive}}"><img class="player-comparison-editorial__player-img playerPhotoContainer" data-player="{{ player0.optaId }}" data-size="110x140" src="{{ placeholderSrc }}" alt="{{ labels.photoFor }} {{ player0.name }}"></div><div class="player-comparison-editorial__player-img-wrap{{^player1.isActive}} player-comparison-editorial__player-img-wrap--crop{{/player1.isActive}}"><img class="player-comparison-editorial__player-img playerPhotoContainer" data-player="{{ player1.optaId }}" data-size="110x140" src="{{ placeholderSrc }}" alt="{{ labels.photoFor }} {{ player1.name }}"></div></div><div class="player-comparison-editorial__table"><div class="player-comparison-editorial__table-row player-comparison-editorial__table-row-name"><span class="player-comparison-editorial__name">{{ player0.name }}</span> <span class="player-comparison-editorial__label">{{ labels.name }}</span> <span class="player-comparison-editorial__name">{{ player1.name }}</span></div><div class="player-comparison-editorial__table-row"><span class="player-comparison-editorial__stat">{{ player0.seasonLabel }}</span> <span class="player-comparison-editorial__label">{{ labels.season }}</span> <span class="player-comparison-editorial__stat">{{ player1.seasonLabel }}</span></div><div class="player-comparison-editorial__table-row"><span class="player-comparison-editorial__stat" data-stat="clean_sheet" data-stat-val="{{ player0.clean_sheet }}">{{ player0.clean_sheet }} </span><span class="player-comparison-editorial__label">{{ labels.clean_sheet }}</span> <span class="player-comparison-editorial__stat" data-stat="clean_sheet" data-stat-val="{{ player1.clean_sheet }}">{{ player1.clean_sheet }}</span></div><div class="player-comparison-editorial__table-row"><span class="player-comparison-editorial__stat" data-stat="goals_conceded" data-stat-val="{{ player0.goals_conceded }}">{{ player0.goals_conceded }} </span><span class="player-comparison-editorial__label">{{ labels.goals_conceded }}</span> <span class="player-comparison-editorial__stat" data-stat="goals_conceded" data-stat-val="{{ player1.goals_conceded }}">{{ player1.goals_conceded }}</span></div><div class="player-comparison-editorial__table-row"><span class="player-comparison-editorial__stat" data-stat="total_tackle" data-stat-val="{{ player0.total_tackle }}">{{ player0.total_tackle }} </span><span class="player-comparison-editorial__label">{{ labels.tackles }}</span> <span class="player-comparison-editorial__stat" data-stat="total_tackle" data-stat-val="{{ player1.total_tackle }}">{{ player1.total_tackle }}</span></div><div class="player-comparison-editorial__table-row"><span class="player-comparison-editorial__stat" data-stat="big_chance_created" data-stat-val="{{ player0.total_clearance }}">{{ player0.total_clearance }} </span><span class="player-comparison-editorial__label">{{ labels.clearances }}</span> <span class="player-comparison-editorial__stat" data-stat="big_chance_created" data-stat-val="{{ player1.total_clearance }}">{{ player1.total_clearance }}</span></div><div class="player-comparison-editorial__button-wrap"><a class="btn js-player-comparison-editorial__button" href="{{ btnUrl }}">{{ labels.btn }} <span class="icn arrow-right"></span></a></div></div>',PULSE.app.templates.widgetfwd='<div class="player-comparison-editorial__players-images"><div class="player-comparison-editorial__player-img-wrap{{^player0.isActive}} player-comparison-editorial__player-img-wrap--crop{{/player0.isActive}}"><img class="player-comparison-editorial__player-img playerPhotoContainer" data-player="{{ player0.optaId }}" data-size="110x140" src="{{ placeholderSrc }}" alt="{{ labels.photoFor }} {{ player0.name }}"></div><div class="player-comparison-editorial__player-img-wrap{{^player1.isActive}} player-comparison-editorial__player-img-wrap--crop{{/player1.isActive}}"><img class="player-comparison-editorial__player-img playerPhotoContainer" data-player="{{ player1.optaId }}" data-size="110x140" src="{{ placeholderSrc }}" alt="{{ labels.photoFor }} {{ player1.name }}"></div></div><div class="player-comparison-editorial__table"><div class="player-comparison-editorial__table-row player-comparison-editorial__table-row-name"><span class="player-comparison-editorial__name">{{ player0.name }}</span> <span class="player-comparison-editorial__label">{{ labels.name }}</span> <span class="player-comparison-editorial__name">{{ player1.name }}</span></div><div class="player-comparison-editorial__table-row"><span class="player-comparison-editorial__stat">{{ player0.seasonLabel }}</span> <span class="player-comparison-editorial__label">{{ labels.season }}</span> <span class="player-comparison-editorial__stat">{{ player1.seasonLabel }}</span></div><div class="player-comparison-editorial__table-row"><span class="player-comparison-editorial__stat" data-stat="goals" data-stat-val="{{ player0.goals }}">{{ player0.goals }} </span><span class="player-comparison-editorial__label">{{ labels.goals }}</span> <span class="player-comparison-editorial__stat" data-stat="goals" data-stat-val="{{ player1.goals }}">{{ player1.goals }}</span></div><div class="player-comparison-editorial__table-row"><span class="player-comparison-editorial__stat" data-stat="goals_per_game" data-stat-val="{{ player0.goals_per_game }}">{{ player0.goals_per_game }} </span><span class="player-comparison-editorial__label">{{ labels.goalsPerGame }}</span> <span class="player-comparison-editorial__stat" data-stat="goals_per_game" data-stat-val="{{ player1.goals_per_game }}">{{ player1.goals_per_game }}</span></div><div class="player-comparison-editorial__table-row"><span class="player-comparison-editorial__stat" data-stat="total_scoring_att" data-stat-val="{{ player0.total_scoring_att }}">{{ player0.total_scoring_att }} </span><span class="player-comparison-editorial__label">{{ labels.shots }}</span> <span class="player-comparison-editorial__stat" data-stat="total_scoring_att" data-stat-val="{{ player1.total_scoring_att }}">{{ player1.total_scoring_att }}</span></div><div class="player-comparison-editorial__table-row"><span class="player-comparison-editorial__stat" data-stat="goal_assist" data-stat-val="{{ player0.goal_assist }}">{{ player0.goal_assist }} </span><span class="player-comparison-editorial__label">{{ labels.assists }}</span> <span class="player-comparison-editorial__stat" data-stat="goal_assist" data-stat-val="{{ player1.goal_assist }}">{{ player1.goal_assist }}</span></div><div class="player-comparison-editorial__button-wrap"><a class="btn js-player-comparison-editorial__button" href="{{ btnUrl }}">{{ labels.btn }} <span class="icn arrow-right"></span></a></div></div>',PULSE.app.templates.widgetgkp='<div class="player-comparison-editorial__players-images"><div class="player-comparison-editorial__player-img-wrap{{^player0.isActive}} player-comparison-editorial__player-img-wrap--crop{{/player0.isActive}}"><img class="player-comparison-editorial__player-img playerPhotoContainer" data-player="{{ player0.optaId }}" data-size="110x140" src="{{ placeholderSrc }}" alt="{{ labels.photoFor }} {{ player0.name }}"></div><div class="player-comparison-editorial__player-img-wrap{{^player1.isActive}} player-comparison-editorial__player-img-wrap--crop{{/player1.isActive}}"><img class="player-comparison-editorial__player-img playerPhotoContainer" data-player="{{ player1.optaId }}" data-size="110x140" src="{{ placeholderSrc }}" alt="{{ labels.photoFor }} {{ player1.name }}"></div></div><div class="player-comparison-editorial__table"><div class="player-comparison-editorial__table-row player-comparison-editorial__table-row-name"><span class="player-comparison-editorial__name">{{ player0.name }}</span> <span class="player-comparison-editorial__label">{{ labels.name }}</span> <span class="player-comparison-editorial__name">{{ player1.name }}</span></div><div class="player-comparison-editorial__table-row"><span class="player-comparison-editorial__stat">{{ player0.seasonLabel }}</span> <span class="player-comparison-editorial__label">{{ labels.season }}</span> <span class="player-comparison-editorial__stat">{{ player1.seasonLabel }}</span></div><div class="player-comparison-editorial__table-row"><span class="player-comparison-editorial__stat" data-stat="saves" data-stat-val="{{ player0.saves }}">{{ player0.saves }} </span><span class="player-comparison-editorial__label">{{ labels.saves }}</span> <span class="player-comparison-editorial__stat" data-stat="saves" data-stat-val="{{ player1.saves }}">{{ player1.saves }}</span></div><div class="player-comparison-editorial__table-row"><span class="player-comparison-editorial__stat" data-stat="saves_success" data-stat-val="{{ player0.saves_success }}">{{ player0.saves_success }} </span><span class="player-comparison-editorial__label">{{ labels.saves_success }}</span> <span class="player-comparison-editorial__stat" data-stat="saves_success" data-stat-val="{{ player1.saves_success }}">{{ player1.saves_success }}</span></div><div class="player-comparison-editorial__table-row"><span class="player-comparison-editorial__stat" data-stat="clean_sheet" data-stat-val="{{ player0.clean_sheet }}">{{ player0.clean_sheet }} </span><span class="player-comparison-editorial__label">{{ labels.clean_sheet }}</span> <span class="player-comparison-editorial__stat" data-stat="clean_sheet" data-stat-val="{{ player1.clean_sheet }}">{{ player1.clean_sheet }}</span></div><div class="player-comparison-editorial__table-row"><span class="player-comparison-editorial__stat" data-stat="goals_conceded" data-stat-val="{{ player0.goals_conceded }}">{{ player0.goals_conceded }} </span><span class="player-comparison-editorial__label">{{ labels.goals_conceded }}</span> <span class="player-comparison-editorial__stat" data-stat="goals_conceded" data-stat-val="{{ player1.goals_conceded }}">{{ player1.goals_conceded }}</span></div><div class="player-comparison-editorial__button-wrap"><a class="btn js-player-comparison-editorial__button" href="{{ btnUrl }}">{{ labels.btn }} <span class="icn arrow-right"></span></a></div></div>',PULSE.app.templates.widgetmid='<div class="player-comparison-editorial__players-images"><div class="player-comparison-editorial__player-img-wrap{{^player0.isActive}} player-comparison-editorial__player-img-wrap--crop{{/player0.isActive}}"><img class="player-comparison-editorial__player-img playerPhotoContainer" data-player="{{ player0.optaId }}" data-size="110x140" src="{{ placeholderSrc }}" alt="{{ labels.photoFor }} {{ player0.name }}"></div><div class="player-comparison-editorial__player-img-wrap{{^player1.isActive}} player-comparison-editorial__player-img-wrap--crop{{/player1.isActive}}"><img class="player-comparison-editorial__player-img playerPhotoContainer" data-player="{{ player1.optaId }}" data-size="110x140" src="{{ placeholderSrc }}" alt="{{ labels.photoFor }} {{ player1.name }}"></div></div><div class="player-comparison-editorial__table"><div class="player-comparison-editorial__table-row player-comparison-editorial__table-row-name"><span class="player-comparison-editorial__name">{{ player0.name }}</span> <span class="player-comparison-editorial__label">{{ labels.name }}</span> <span class="player-comparison-editorial__name">{{ player1.name }}</span></div><div class="player-comparison-editorial__table-row"><span class="player-comparison-editorial__stat">{{ player0.seasonLabel }}</span> <span class="player-comparison-editorial__label">{{ labels.season }}</span> <span class="player-comparison-editorial__stat">{{ player1.seasonLabel }}</span></div><div class="player-comparison-editorial__table-row"><span class="player-comparison-editorial__stat" data-stat="goals" data-stat-val="{{ player0.goals }}">{{ player0.goals }} </span><span class="player-comparison-editorial__label">{{ labels.goals }}</span> <span class="player-comparison-editorial__stat" data-stat="goals" data-stat-val="{{ player1.goals }}">{{ player1.goals }}</span></div><div class="player-comparison-editorial__table-row"><span class="player-comparison-editorial__stat" data-stat="goal_assist" data-stat-val="{{ player0.goal_assist }}">{{ player0.goal_assist }} </span><span class="player-comparison-editorial__label">{{ labels.assists }}</span> <span class="player-comparison-editorial__stat" data-stat="goal_assist" data-stat-val="{{ player1.goal_assist }}">{{ player1.goal_assist }}</span></div><div class="player-comparison-editorial__table-row"><span class="player-comparison-editorial__stat" data-stat="big_chance_created" data-stat-val="{{ player0.big_chance_created }}">{{ player0.big_chance_created }} </span><span class="player-comparison-editorial__label">{{ labels.big_chance_created }}</span> <span class="player-comparison-editorial__stat" data-stat="big_chance_created" data-stat-val="{{ player1.big_chance_created }}">{{ player1.big_chance_created }}</span></div><div class="player-comparison-editorial__table-row"><span class="player-comparison-editorial__stat" data-stat="total_pass" data-stat-val="{{ player0.total_pass }}">{{ player0.total_pass }} </span><span class="player-comparison-editorial__label">{{ labels.passes }}</span> <span class="player-comparison-editorial__stat" data-stat="total_pass" data-stat-val="{{ player1.total_pass }}">{{ player1.total_pass }}</span></div><div class="player-comparison-editorial__button-wrap"><a class="btn js-player-comparison-editorial__button" href="{{ btnUrl }}">{{ labels.btn }} <span class="icn arrow-right"></span></a></div></div>',PULSE.app.templates.widgetmiddef='<div class="player-comparison-editorial__players-images"><div class="player-comparison-editorial__player-img-wrap{{^player0.isActive}} player-comparison-editorial__player-img-wrap--crop{{/player0.isActive}}"><img class="player-comparison-editorial__player-img playerPhotoContainer" data-player="{{ player0.optaId }}" data-size="110x140" src="{{ placeholderSrc }}" alt="{{ labels.photoFor }} {{ player0.name }}"></div><div class="player-comparison-editorial__player-img-wrap{{^player1.isActive}} player-comparison-editorial__player-img-wrap--crop{{/player1.isActive}}"><img class="player-comparison-editorial__player-img playerPhotoContainer" data-player="{{ player1.optaId }}" data-size="110x140" src="{{ placeholderSrc }}" alt="{{ labels.photoFor }} {{ player1.name }}"></div></div><div class="player-comparison-editorial__table"><div class="player-comparison-editorial__table-row player-comparison-editorial__table-row-name"><span class="player-comparison-editorial__name">{{ player0.name }}</span> <span class="player-comparison-editorial__label">{{ labels.name }}</span> <span class="player-comparison-editorial__name">{{ player1.name }}</span></div><div class="player-comparison-editorial__table-row"><span class="player-comparison-editorial__stat">{{ player0.seasonLabel }}</span> <span class="player-comparison-editorial__label">{{ labels.season }}</span> <span class="player-comparison-editorial__stat">{{ player1.seasonLabel }}</span></div><div class="player-comparison-editorial__table-row"><span class="player-comparison-editorial__stat" data-stat="goals" data-stat-val="{{ player0.goals }}">{{ player0.goals }} </span><span class="player-comparison-editorial__label">{{ labels.goals }}</span> <span class="player-comparison-editorial__stat" data-stat="goals" data-stat-val="{{ player1.goals }}">{{ player1.goals }}</span></div><div class="player-comparison-editorial__table-row"><span class="player-comparison-editorial__stat" data-stat="goal_assist" data-stat-val="{{ player0.goal_assist }}">{{ player0.goal_assist }} </span><span class="player-comparison-editorial__label">{{ labels.assists }}</span> <span class="player-comparison-editorial__stat" data-stat="goal_assist" data-stat-val="{{ player1.goal_assist }}">{{ player1.goal_assist }}</span></div><div class="player-comparison-editorial__table-row"><span class="player-comparison-editorial__stat" data-stat="clean_sheet" data-stat-val="{{ player0.clean_sheet }}">{{ player0.clean_sheet }} </span><span class="player-comparison-editorial__label">{{ labels.clean_sheet }}</span> <span class="player-comparison-editorial__stat" data-stat="clean_sheet" data-stat-val="{{ player1.clean_sheet }}">{{ player1.clean_sheet }}</span></div><div class="player-comparison-editorial__table-row"><span class="player-comparison-editorial__stat" data-stat="total_pass" data-stat-val="{{ player0.total_pass }}">{{ player0.total_pass }} </span><span class="player-comparison-editorial__label">{{ labels.passes }}</span> <span class="player-comparison-editorial__stat" data-stat="total_pass" data-stat-val="{{ player1.total_pass }}">{{ player1.total_pass }}</span></div><div class="player-comparison-editorial__button-wrap"><a class="btn js-player-comparison-editorial__button" href="{{ btnUrl }}">{{ labels.btn }} <span class="icn arrow-right"></span></a></div></div>',PULSE.app.templates.nostatstable='<tr class="noContentContainer">{{ label }}</tr>',PULSE.app.templates.player='<tr class="{{ rowClass }}"><td class="rank"><strong>{{ rank }}.</strong></td><td><a href="{{ url }}" class="playerName"><strong>{{#playerImage}}</strong> <img class="img playerPhotoContainer" alt="" data-player="{{ optaId }}" data-size="{{ imageSize }}" src="{{ playerImage }}"> {{/playerImage}} {{owner.name.display}}</a></td><td class="hide-s">{{#team}} <a href="{{ url }}" class="statNameSecondary"><span class="badge-25 {{ opta }}"></span>{{ name }} </a>{{/team}} {{#altteam}} {{ altteam }} {{/altteam}}</td><td class="hide-s">{{#country}}<div class="info"><span class="flag {{ isoCode }}"></span> <span class="playerCountry">{{ country }}</span></div>{{/country}}</td><td class="mainStat">{{ value }}</td></tr>',PULSE.app.templates.playeryouth='<tr class="{{ rowClass }}"><td class="rank"><strong>{{ rank }}.</strong></td><td><div class="playerName"><strong>{{#playerImage}}</strong> <img class="img playerPhotoContainer" alt="" data-player="{{ optaId }}" data-size="{{ imageSize }}" src="{{ playerImage }}"> {{/playerImage}} {{owner.name.display}}</div></td><td class="hide-s">{{#team}}<div class="statNameSecondary"><span class="badge-25 {{ opta }}"></span>{{ name }}</div>{{/team}} {{#altteam}} {{ altteam }} {{/altteam}}</td><td class="hide-s">{{#country}}<div class="info"><span class="flag {{ isoCode }}"></span> <span class="playerCountry">{{ country }}</span></div>{{/country}}</td><td class="mainStat">{{ value }}</td></tr>',PULSE.app.templates.team='<tr class="{{ rowClass }}"><td>{{ index }}.</td><td><a href="{{ url }}" class="playerName"><div alt="" class="badge-{{ badgeSize }} {{ optaId }}"></div>{{ owner.name }}</a></td><td class="mainStat">{{ value }}</td></tr>',PULSE.app.templates.teamyouth='<tr class="{{ rowClass }}"><td>{{ index }}.</td><td><div class="playerName"><div alt="" class="badge-{{ badgeSize }} {{ optaId }}"></div>{{ owner.name }}</div></td><td class="mainStat">{{ value }}</td></tr>',function(u,c,d,y,m){function n(a){if(u.filterData&&u.filterData.comps&&u.filterData.comps.all)for(var e=0;e<u.filterData.comps.all.length;e++)if(u.filterData.comps.all[e]&&u.filterData.comps.all[e].compSeasons)for(var t=0;t<u.filterData.comps.all[e].compSeasons.length;t++)if(u.filterData.comps.all[e].compSeasons[t]&&u.filterData.comps.all[e].compSeasons[t].id==a){var s=u.filterData.comps.all[e].compSeasons[t].label;if(s){var l=s.split(" ");return l[l.length-1]}}return m.lookup("label.compseason."+a)}function o(a,e){if(0<a.teamCompare.length&&e.id)for(var t=0;t<a.teamCompare.length;t++)if(e.id===a.teamCompare[t].id)return e.selectedTeam=a.teamCompare[t].selectedTeam,e;return e}function r(a){for(var e=a.element.getElementsByClassName("comparisionChooserContainer"),t=[],s=0;s<e.length;s++){var l=o(a,e[s]);l.setAttribute("data-index",s),t.push(l)}a.teamCompare=t}function i(a,e,t,s){if(a.statsComparisonTableSection&&0<a.statsComparisonTableSection.length&&y.style.addClass(a.statsComparisonTableSection[0],"is-visible"),a.statCache[t][e])a.renderComparison(a.statCache[t][e],{statType:t,statId:e});else{var l={id:e,altIds:!0,compSeasons:s},o="stats.player";"team"===t&&(o="stats.team");var r={url:u.common.createApiPath(o,l),method:"GET",callback:a.renderComparison,target:a,forceCallback:!0,statType:t,statId:e,compSeason:s};y.data.manager.add(r)}}function p(a,e,t,s){var l=t.compseason;if(-1==t.compseason){var o=a.element.getElementsByClassName("comparisonSeasonFilter");if(o&&0<o.length){for(var r=o[0].getElementsByTagName("li"),n=[],i=0;i<r.length;i++){var p=r[i].getAttribute("data-option-id");p&&-1!=p&&n.push(p)}l=n.join(",")}}var c={altIds:!0,compSeasons:l,pageSize:20};t.page&&(c.page=t.page);var d="players.all";"team"===e&&(d="teams.all");var m={url:u.common.createApiPath(d,c),method:"GET",callback:a.renderChoosers,target:a,forceCallback:!0,statType:e,compSeason:t.compseason,container:s};y.data.manager.add(m)}function s(a,e){a.teamCompare[e].parentNode.removeChild(a.teamCompare[e]),r(a)}function g(a,e,t,s){return!!a.statCache&&(!!a.statCache[e]&&(!!a.statCache[e][t]&&!!a.statCache[e][t][s]))}function _(a,t,s,l){var o=0;return a.forEach(function(a){var e=0;t.statCache[t.compareType][s]&&t.statCache[t.compareType][s][l]&&t.statCache[t.compareType][s][l][a]&&(e=t.statCache[t.compareType][s][l][a]),o+=e}),o}function v(a,e,t){var s=[];if(e.teamCompare&&0<e.teamCompare.length)for(var l=void 0,o=0;o<e.teamCompare.length;o++)if(e.teamCompare[o].id){var r=_(a.stat,e,e.teamCompare[o].id,t);if(a.denominator&&0<a.denominator.length){var n=_(a.denominator,e,e.teamCompare[o].id,t);n<1&&(n=1),r=Math.round(r/n*100)/100}l||0==a.positive?0<a.positive?l<r&&(l=r):a.positive<0&&r<l&&(l=r):l=r,s.push({stat:r,className:"stat"})}return{values:s,bestValue:l}}var l=function(a){if(a.teamCompare[a.compareIndex].id)y.style.removeClass(a.teamCompare[a.compareIndex].selectedTeam,"inactive"),s(a,a.compareIndex),a.reachedMax&&(a.reachedMax=!1,h(a)),a.renderComparisonTable(),f(a);else{var e=a.teamCompare[a.compareIndex];y.style.removeClass(e,"inactive"),a.statsComparisonTableSection&&0<a.statsComparisonTableSection.length&&y.style.removeClass(a.statsComparisonTableSection[0],"is-visible"),a.selectionStatContainer&&0<a.selectionStatContainer.length&&y.style.addClass(a.selectionStatContainer[0],"open")}},h=function(a){if(a.nextComparisonContainer&&0<a.nextComparisonContainer.length&&a.teamCompare.length<a.max){var e="team"===a.compareType?"label.clicktoaddclub":"label.clicktoaddplayer",t="team"===a.compareType?"nextcomparisonteam":"nextcomparisonplayer",s={teamName:"",opta:"",className:"",selectLabel:e};a.nextComparisonContainer[0].innerHTML+=Mustache.render(u.templates[t],s),r(a)}else a.teamCompare.length===a.max&&(a.reachedMax=!0)},t=function(a){var e=a.teamSelectorPanel.selectedTeam;h(a);var t=a.teamCompare[a.compareIndex];if(y.style.addClass(e,"inactive"),"team"===a.compareType?b(a,t,{teamName:e.getAttribute("data-team-name"),opta:e.getAttribute("data-opta-id")}):b(a,t,{name:e.getAttribute("data-name"),optaId:e.getAttribute("data-opta-id"),teamOpta:e.getAttribute("data-team-opta"),position:e.getAttribute("data-position"),imageSize:"250x250"}),a.teamCompare[a.compareIndex].id=e.getAttribute("data-id"),a.teamCompare[a.compareIndex].optaId=e.getAttribute("data-opta-id"),a.teamCompare[a.compareIndex].type=e.getAttribute("data-type"),a.teamCompare[a.compareIndex].season=e.getAttribute("data-season"),a.teamCompare[a.compareIndex].selectedTeam=e,a.teamCompare[a.compareIndex].id){i(a,a.teamCompare[a.compareIndex].id,a.teamCompare[a.compareIndex].type);var s=a.teamCompare[a.compareIndex].season;if(s&&-1!=s){if(i(a,a.teamCompare[a.compareIndex].id,a.teamCompare[a.compareIndex].type,s),a.seasons.indexOf(s)<0){a.seasons.push(s);for(var l=0;l<a.teamCompare.length;l++)a.teamCompare[l].id&&!g(a,a.teamCompare[a.compareIndex].type,a.teamCompare[l].id,s)&&i(a,a.teamCompare[l].id,a.teamCompare[a.compareIndex].type,s)}if(2<a.seasons.length)for(l=0;l<a.seasons.length;l++)"alltime"==a.seasons[l]||a.seasons[l]==s||g(a,a.teamCompare[a.compareIndex].type,a.teamCompare[a.compareIndex].id,a.seasons[l])||i(a,a.teamCompare[a.compareIndex].id,a.teamCompare[a.compareIndex].type,a.seasons[l])}a.selectionStatContainer&&0<a.selectionStatContainer.length&&y.style.removeClass(a.selectionStatContainer[0],"open")}f(a)},b=function(a,e,t){y.style.addClass(e,"selected");var s="team"===a.compareType?"nextcomparisonteam":"nextcomparisonplayer",l="team"===a.compareType?"label.clicktoremoveclub":"label.clicktoremoveplayer";t.className="selected",t.selectLabel=l,e.outerHTML=Mustache.render(u.templates[s],t),r(a),"player"===a.compareType&&d.getPhotosForContainer(a.teamCompare[a.compareIndex])},f=function(a){a.compareIndex=a.teamCompare.length-1};u.statsComparison=function(a){var s,e=this;e.element=a,e.max=3,e.cache={players:[],teams:[]},e.currentSelections=[],e.teamSelectorPanel={},e.selectionStatContainer=e.element.getElementsByClassName("selectionStatContainer"),e.statsComparisonTableSection=e.element.getElementsByClassName("statsComparisonTableSection"),r(e),e.renderTabs(),e.seasons=["alltime"],e.teamCompare=[],e.compSeason=e.element.getAttribute("data-season"),e.date=moment(new Date).locale(u.language).format("YYYY-MM-DD"),e.nextComparisonContainer=e.element.getElementsByClassName("nextComparisonContainer"),h(e),e.playerTeamFilterDropdown=e.element.getElementsByClassName("playerTeamFilterDropdown"),e.playerTeamFilterDropdown&&0<e.playerTeamFilterDropdown.length&&d.dropdown(e.playerTeamFilterDropdown[0],{updateCurrent:!0,callback:e.getTeamLineup,target:e}),e.filterControllerElement=e.element.getElementsByClassName("comparisonSeasonFilter"),e.filterControllerElement&&0<e.filterControllerElement.length&&(e.filterController=new u.common.listFilterController(e.filterControllerElement[0],{dropdowns:u.filterGroups.statscomparison,delegate:e})),e.compareIndex=0,e.statCache={team:{},player:{}},e.compareType="team",e.useStats={player:[{stat:["appearances"],positive:1},{stat:["goals"],positive:1},{stat:["goals"],positive:1,label:m.lookup("label.goalspergame"),denominator:["appearances"]},{stat:["total_pass"],positive:1},{stat:["yellow_card"],positive:-1},{stat:["red_card"],positive:-1},{stat:["ontarget_scoring_att"],positive:1},{stat:["error_lead_to_goal"],positive:-1},{stat:["own_goals"],positive:-1}],team:[{stat:["wins"],positive:1},{stat:["wins"],positive:1,label:m.lookup("label.stat.wins")+" %",denominator:["wins","draws","losses"]},{stat:["draws"],positive:0},{stat:["losses"],positive:-1},{stat:["goals"],positive:1},{stat:["goals_conceded"],positive:-1},{stat:["clean_sheet"],positive:1},{stat:["total_pass"],positive:1},{stat:["total_pass"],positive:1,label:m.lookup("label.passespergame"),denominator:["wins","draws","losses"]},{stat:["total_yel_card"],positive:-1},{stat:["total_red_card"],positive:-1},{stat:["ontarget_scoring_att"],positive:1},{stat:["error_lead_to_goal"],positive:-1},{stat:["own_goals"],positive:-1}]},(s=e).nextComparisonContainer&&0<s.nextComparisonContainer.length&&s.nextComparisonContainer[0].addEventListener("click",function(a){a.preventDefault();var e=a.target.closest(".comparisionChooserContainer");if(e){var t=e.getAttribute("data-index");null!=t&&(s.compareIndex=parseInt(t),l(s))}}),s.selectionStatContainer&&0<s.selectionStatContainer.length&&s.selectionStatContainer[0].addEventListener("click",function(a){a.preventDefault();var e=a.target.closest(".selectionStatChooserContainer");e&&(y.style.hasClass(e,"inactive")||(s.teamSelectorPanel.selectedTeam=e,t(s)))})},u.statsComparison.prototype.renderTabs=function(){var e=this,a={tabItems:e.element.getElementsByClassName("comparisonStatContainer"),tabLinkWrap:e.element.querySelector(".comparisonStatsToggle"),builtClass:"statsCompTabs",tabCallback:function(a){e.initTab(a)},buildCallback:function(a){e.initTab(a,!0)}};e.tabs=new c.tab(a)},u.statsComparison.prototype.initTab=function(a,e){var t=this;if(t.compareType=a.config.current.uiArgs.type,t.chooseContainer=t.element.getElementsByClassName(t.compareType+"SelectionContainer"),t.chooseContainer&&0<t.chooseContainer.length&&!e){for(;0<t.teamCompare.length;)s(t,0);h(t),t.seasons=["alltime"],t.renderComparisonTable(),p(t,t.compareType,{compseason:t.compSeason},t.chooseContainer[0])}},u.statsComparison.prototype.filterUpdated=function(a,t,e){var s=this,l=s.compSeason;a.map(function(a){var e=t&&-1!=a.autoId&&null!=a.autoId?a.autoId:a.state.id;switch(a.name){case"compSeasons":s.compSeason=e,"0"===a.state.index?s.date=moment(new Date).locale(u.language).format("YYYY-MM-DD"):s.date=void 0}}),s.compSeason==l&&!e||s.updateSeason()},u.statsComparison.prototype.updateSeason=function(){p(this,this.compareType,{compseason:this.compSeason},this.chooseContainer[0])},u.statsComparison.prototype.renderDropdown=function(a){var e=this;if(a&&a.content&&e.playerTeamFilterDropdown&&0<e.playerTeamFilterDropdown.length){var t={teams:a.content,allLabel:m.lookup("label.all")};-1!=e.compSeason?e.playerTeamFilterDropdown[0].innerHTML=Mustache.render(u.templates.teamdropdown,t):e.playerTeamFilterDropdown[0].innerHTML=""}},u.statsComparison.prototype.getTeamLineup=function(a){var e=this,t=a.getAttribute("data-team-id");if(t){var s={id:t,compSeasonId:e.compSeason,altIds:!0},l={url:u.common.createApiPath("teams.single.staff",s),method:"GET",callback:e.renderSquad,target:this,compSeason:e.compSeason};y.data.manager.add(l)}else p(e,e.compareType,{compseason:e.compSeason},e.chooseContainer[0])},u.statsComparison.prototype.renderSquad=function(a,e){a&&a.players&&this.renderChoosers({content:a.players},{statType:"player",container:this.chooseContainer[0],currentTeam:a.team,compSeason:e.compSeason}),console.log(a)},u.statsComparison.prototype.renderChoosers=function(a,e){var t,s,l,o;if(a&&e&&a.content&&e.container&&e.statType){"team"===e.statType&&this.renderDropdown(a);var r="player"===e.statType?"chooseplayer":"chooseteam",n=(t=a.content,s=e.statType,l=e.currentTeam,o=e.compSeason,t.forEach(function(a){switch(l&&(a.currentTeam=l),o&&(a.season=o),s){case"player":a.imageSize="40x40",a.playerImage=d.getDefaultPlayerImg(a.imageSize),a.displayName=a.name&&a.name.display?a.name.display:"",a.position=a.info&&a.info.positionInfo?a.info.positionInfo:"",a.optaId=a.altIds&&a.altIds.opta?a.altIds.opta:void 0,a.currentOpta=a.currentTeam&&a.currentTeam.altIds&&a.currentTeam.altIds.opta?a.currentTeam.altIds.opta:"";break;case"team":a.optaId=a.altIds&&a.altIds.opta?a.altIds.opta:void 0}}),{content:t});if(e.container.innerHTML=Mustache.render(u.templates[r],n),"player"===e.statType&&d.getPhotosForContainer(e.container),a.pageInfo&&a.pageInfo.numEntries>a.content.length){var i=document.createElement("div"),p={page:a.pageInfo.page,pageSize:a.pageInfo.pageSize,numEntries:a.pageInfo.numEntries,currentSize:a.content.length};this.pagination=new c.pagination(i,{pageInfo:p,callback:this.getPage,target:this,paginationTemplate:u.templates.pagination}),e.container.appendChild(i)}}console.log(a)},u.statsComparison.prototype.getPage=function(a){p(this,this.compareType,{compseason:this.compSeason,page:a.page},this.chooseContainer[0])},u.statsComparison.prototype.renderComparison=function(a,e){var t=this,s=e.compSeason?e.compSeason:"alltime";!(e&&e.statType&&e.statId)||t.statCache[e.statType][e.statId]&&t.statCache[e.statType][e.statId][s]||(t.statCache[e.statType][e.statId]||(t.statCache[e.statType][e.statId]={}),a.stats.map(function(a){t.statCache[e.statType][e.statId][s]||(t.statCache[e.statType][e.statId][s]={}),t.statCache[e.statType][e.statId][s][a.name]=a.value})),a&&e&&e.statType&&e.statId&&t.statCache[e.statType][e.statId]&&t.statCache[e.statType][e.statId]&&t.renderComparisonTable()},u.statsComparison.prototype.renderComparisonTable=function(){var i,p,a=this;if(a.statsComparisonTableSection&&0<a.statsComparisonTableSection.length){for(var e=(p=[],(i=a).useStats[i.compareType].forEach(function(a){var e={};e.label=a.label?a.label:m.lookup("label.stat."+a.stat[0]);var t={};i.seasons.sort(function(a,e){return e<a?1:a<e?-1:void 0});for(var s=0;s<i.seasons.length;s++){var l=v(a,i,i.seasons[s]);l.values.forEach(function(a){1<l.values.length&&a.stat===l.bestValue&&(a.className+=" highlight"),a.stat=y.common.commafy(a.stat),i.seasons.length-1===s&&(a.className+=" divider")}),t[i.seasons[s]]=l}var o=[];for(s=0;s<i.teamCompare.length;s++){for(var r=[],n=0;n<i.seasons.length;n++)i.teamCompare[s].id?r.push(t[i.seasons[n]].values[s]):r.push("");o.push({scopeArray:r})}e.teamStatsArray=o,p.push(e)}),{comparison:p}),t=[],s=0;s<a.teamCompare.length;s++)for(var l=0;l<a.seasons.length;l++){var o=n(a.seasons[l]),r=a.seasons.length-1===l?"divider":"";t.push({label:o,className:r})}e.scopes=t,a.statsComparisonTableSection[0].innerHTML=Mustache.render(u.templates.comparisonstats,e),console.log(e)}};u.filterGroups.setData(function(){var a=document.querySelectorAll('[data-widget="stats-comparison"]');Array.prototype.map.call(a,function(a){a=new u.statsComparison(a)})})}(PULSE.app,PULSE.ui,PULSE.app.common,PULSE.core,PULSE.I18N),function(_,c,d,v){function g(a,e,t){t=t||["click","keypress"];for(var s=function(a){a.preventDefault(),a instanceof KeyboardEvent&&"13"==a.keyCode&&document.activeElement,e()},l=0;l<t.length;l++)a.addEventListener(t[l],s)}function p(a,e){for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(a){for(var e=(this.document||this.ownerDocument).querySelectorAll(a),t=e.length;0<=--t&&e.item(t)!==this;);return-1<t});a&&a!==document;a=a.parentNode)if(a.matches(e))return a;return null}function m(){var a=p(this,C),e=this.nextElementSibling;e.classList.contains(s)?(d.style.removeClass(a,s),d.style.removeClass(e,s),e.style.height="0"):(d.style.addClass(a,s),d.style.addClass(e,s),e.style.height=e.scrollHeight+"px")}function t(a){var e=document.documentElement.scrollTop||document.body.scrollTop,t=document.querySelector("#mainNav").offsetHeight,s=a.getBoundingClientRect().top;if(s+e<e+t){var l=s+e-t;window.scrollTo(0,l)}}function u(a){d.style.removeClass(a,"intro-active"),d.localStorage.setStorage("playerComparisonIntro",!0,90)}function h(a){a.showIntro&&u(a),t(a),d.style.toggleClass(a,"modalActive")}function b(a){var e="";switch(a){case"G":e="GKP";break;case"D":e="DEF";break;case"M":e="MID";break;case"F":e="FWD"}return e}function y(a){var e=a,t=this.hasAttribute("checked");e.isRangeFilter=!0,e.selectedPlayerSlot=p(this,".player-comparison__player"),e.selectedPlayerSlotN=e.selectedPlayerSlot.getAttribute("data-player-slot");var s=e.selectedPlayerSlot.querySelector(".player-comparison__range-filter-wrap"),l=e.selectedPlayerSlot.querySelector("#dd-FOOTBALL_COMPSEASON_FROM"),o=s.getAttribute("data-player-id"),r=s.getAttribute("data-range-from"),n=s.getAttribute("data-range-to");e.selectedPlayerId=o;var i=e.selectedPlayerSlot.querySelector(".player-comparison__range-filter");t?(this.removeAttribute("checked"),d.style.toggleClass(i,"on"),e.isRangeFilterOn=!1,e.getPlayerData(e.selectedPlayerId,!0,r,n),l.innerHTML=e.seasonLabel):(this.setAttribute("checked",""),d.style.toggleClass(i,"on"),e.isRangeFilterOn=!0,e.getPlayerData(e.selectedPlayerId,!0,r,n),l.innerHTML=e.fromLabel)}var r=function(o){o.showIntro=!1;var r=o.querySelector(".js-intro-promo"),a=function(){for(var a=o.querySelectorAll(".js-intro-tooltip"),e=r.getBoundingClientRect().top,t=(t=window.getComputedStyle(r).getPropertyValue("margin-top")).substr(0,t.length-2),s=(t=parseInt(t),0);s<a.length;s++){var l=e-a[s].getBoundingClientRect().bottom;l<10&&(r.style.marginTop=t+Math.abs(l)+20+"px")}};d.localStorage.getStorage("playerComparisonIntro")||(d.style.addClass(o,"intro-active"),o.showIntro=!0,a()),g(window,function(){r.removeAttribute("style"),a()},["resize"])},f=".player-comparison__stats-group",s="active",C=".player-comparison__stats-group-header";_.playerComparison=function(a){var t,s,e,l,o=this;o.widget=a,o.widget<=0||(o.requestConfigFilters={},o.requestConfigSearch={},r(o.widget),o.modal=o.widget.querySelector(".player-comparison__modal"),o.initModal(o.modal),o.topBar=o.widget.querySelector(".player-comparison__players-top-bar"),t=o.topBar,s={item:t,activeClass:"player-comparison__players-top-bar--fixed",offset:{desktop:320,tablet:210,tabletSm:260,mobile:250}},g(window,function(){if(!t.classList.contains("inactive")){var a=window.pageYOffset|document.body.scrollTop,e=s.offset.desktop;window.matchMedia("(min-width: 701px) and (max-width: 900px)").matches?e=s.offset.tablet:window.matchMedia("(min-width: 501px) and (max-width: 700px)").matches?e=s.offset.tabletSm:window.matchMedia("(max-width: 500px)").matches&&(e=s.offset.mobile),e<=a?s.item.classList.contains(s.activeClass)||d.style.addClass(s.item,s.activeClass):s.item.classList.contains(s.activeClass)&&d.style.removeClass(s.item,s.activeClass)}},["scroll","resize"]),o.accordion=o.widget.querySelector("[data-accordion]"),o.hasRenderPlayerInit=!1,o.renderOnPageLoadCounter=0,o.parseUrl(window.location),e=o.widget,(l=document.querySelector(".notificationPromo--player-comparison"))&&e.appendChild(l))},_.playerComparison.prototype.parseUrl=function(a){var e=function(a){for(var e,t=/\+/g,s=/([^&=]+)=?([^&]*)/g,l=a.search.substring(1),o=function(a){return decodeURIComponent(a.replace(t," "))},r={};e=s.exec(l);)r[o(e[1])]=o(e[2]);return r}(a);if(e)for(var t in e)if(!e[t]||isNaN(e[t]))return void console.warn("Unsupported query string parameters",a.search);this.urlParams=e,this.renderOnPageLoad(this.urlParams)},_.playerComparison.prototype.renderOnPageLoad=function(a){var e=this;e.isPageLoadRender=!0;var t=e.topBar.querySelectorAll(".player-comparison__player");e.selectedPlayerSlot=t[e.renderOnPageLoadCounter],e.selectedPlayerId=a["player"+e.renderOnPageLoadCounter+"Id"],e.playerCompSeasonId=a["player"+e.renderOnPageLoadCounter+"compSeasonId"],e.getPlayerData(e.selectedPlayerId)},_.playerComparison.prototype.initPlayerRangeFilter=function(a){var e,t,s=this;s.seasonLabel=v.lookup("label.player.season"),s.fromLabel=v.lookup("label.fromseason"),s.isRangeFilterOn=!1,e=s,t=a.querySelector(".player-comparison__checkbox"),g(t,y.bind(t,e));var l=s.selectedPlayerSlot.querySelector(".js-secondary-filters");s.initFilter(l,!0);for(var o=function(){var a=p(this,".player-comparison__range-filter-wrap").getAttribute("data-player-id");s.selectedPlayerId=a,s.selectedPlayerSlot=p(this,".player-comparison__player"),s.selectedPlayerSlotN=s.selectedPlayerSlot.getAttribute("data-player-slot")},r=l.getElementsByClassName("dropDown"),n=0;n<r.length;n++)g(r[n],o.bind(r[n]))},_.playerComparison.prototype.searchPlayers=function(){var t=this;t.searchRequestConfig=t.searchRequestConfig||{};var s,l=(s=0,function(a,e){clearTimeout(s),s=setTimeout(a,e)});t.searchInput.onkeyup=function(a){var e=this;t.currentRequest&&t.currentRequest.stop(),l(function(){var a=e.value;t.currentSearchTerm=a,""!==t.currentSearchTerm?(t.requestConfigSearch.altIds=void 0,t.requestConfigSearch.compSeasons=void 0,t.requestConfigSearch.compCodeForActivePlayer=void 0,t.requestConfigSearch.fullObjectResponse=!0,t.requestConfigSearch.id=void 0,t.requestConfigSearch.page=void 0,t.requestConfigSearch.pageSize=void 0,t.requestConfigSearch.start=void 0,t.requestConfigSearch.size=30,t.requestConfigSearch.teams=void 0,t.searchPath=_.common.createSearchPath([t.currentSearchTerm,t.currentSearchTerm+"*"],["player"],t.requestConfigSearch),t.resultsNotice.innerHTML="",t.searchResultsContainer.innerHTML="",t.setResultsLoading(),t.initData(t.searchPath,t.modelSearchResults)):t.resetSearchTerms()},250)}},_.playerComparison.prototype.resetSearchTerms=function(){this.searchInput.value="",this.resultsNotice.innerHTML="",this.searchResultsContainer.innerHTML="",this.searchResultsLoader.removeLoader()},_.playerComparison.prototype.modelSearchResults=function(o){var a=Object.keys(o).reduce(function(a,e){if("hits"===e&&0<o[e].found){for(var t=[],s=o[e].hit,l=0;l<s.length;l++)t.push(s[l].response);a={content:t,found:o[e].found}}return a},{});this.renderFilteredResults(a,{},!0)},_.playerComparison.prototype.initModalFilters=function(){var a=this;if(a.hasModalFiltersInit)a.filterController.resetAll();else{a.hasModalFiltersInit=!0;var e=a.modal.querySelector(".player-comparison__filter");a.initFilter(e)}},_.playerComparison.prototype.initModal=function(a){var e,t,s,l,o,r,n,i=this;i.hasModalFiltersInit=!1,i.resultsWrap=a.querySelector(".player-comparison__results-wrap"),i.filterResultsScroll=a.querySelector(".player-comparison__filter-results-scroll"),i.filterResultsWrap=i.filterResultsScroll.querySelector(".player-comparison__filter-results-wrap"),i.resultsContainer=i.filterResultsScroll.querySelector(".player-comparison__filter-results"),i.searchResultsScroll=a.querySelector(".player-comparison__search-results-scroll"),i.searchResultsWrap=i.searchResultsScroll.querySelector(".player-comparison__search-results-wrap"),i.resultsNotice=i.searchResultsWrap.querySelector(".js-search-results-notice"),i.searchResultsContainer=i.searchResultsWrap.querySelector(".player-comparison__search-results"),i.searchInput=a.querySelector(".player-comparison__search-input"),i.resultsTooltip=a.querySelector(".player-comparison__results-tooltip"),i.resultsTooltip&&(e=i.resultsTooltip,g(e,function(){this.remove()}.bind(e),["click"])),t=a,s=i.resultsWrap,l={tabItems:t.querySelectorAll("[data-ui-tab]"),activeClass:"active",tabLinkWrap:t.querySelector(".player-comparison__tabs-nav"),tabCallback:function(a){"Search"===a.config.current.title?d.style.addClass(s,"searchActive"):d.style.removeClass(s,"searchActive")},buildCallback:function(){}},new c.tab(l),i.searchPlayers(),o=i.widget,r=o.querySelector(".player-comparison__modal-screen"),n=o.querySelector(".close"),g(r,function(){o.showIntro?u(o):h(o)}),g(n,function(){h(o)});var p=i.widget.querySelector('.player-comparison__player[data-player-slot="0"]');i.initAddPlayer(p),i.filterResultsLoader=new _.common.scrollLoader(i.filterResultsWrap,i,!0,i.filterResultsScroll),i.searchResultsLoader=new _.common.scrollLoader(i.searchResultsWrap,i,!0,i.searchResultsScroll)},_.playerComparison.prototype.initAddPlayer=function(a){var e=this;e.addPlayerBtns=[].slice.call(a.querySelectorAll("[data-add-player]"));for(var t=function(){e.isRangeFilter=!1,e.initModalFilters(),h(e.widget),e.selectedPlayerSlot=p(this,".player-comparison__player"),e.resetSearchTerms()},s=0;s<e.addPlayerBtns.length;s++)g(e.addPlayerBtns[s],t.bind(e.addPlayerBtns[s]))},_.playerComparison.prototype.initFilter=function(a,e){var t=this,s=JSON.parse(JSON.stringify(_.filterGroups[a.getAttribute("data-filter-config")]));if(e&&a){var l=_.filterData.getCurrentCompSeasonId(_.competition.FIRST);return s[0].defaultOptionId=t.playerCompSeasonId,s[1].defaultOptionId=-1!=t.playerCompSeasonId?t.playerCompSeasonId:l,void(t.rangeFilterController=new _.common.listFilterController(a,{dropdowns:s,delegate:t}))}a&&(t.filterController=new _.common.listFilterController(a,{dropdowns:s,delegate:t}))},_.playerComparison.prototype.filterCleared=function(a){this.filterUpdated(a)},_.playerComparison.prototype.filterUpdated=function(a,t){var s=this;if(3===a.length?s.currentFilterCallback=s.renderFilteredResults:2===a.length?s.currentFilterCallback=s.getPlayerData:s.currentFilterCallback=s.renderPlayer,a.forEach(function(a){if(a.config&&a.config.apiParam){var e=t&&a.autoId&&0<a.autoId?a.autoId:a.state.id;s.requestConfigFilters[a.config.apiParam]=-1!=e?e:void 0}}),s.currentFilterCallback===s.renderFilteredResults){s.searchPath=void 0,-1==a[0].state.id?s.requestConfigFilters.comps=1:s.requestConfigFilters.comps=void 0,-1!=a[1].state.id?s.teamFromRequest=a[1].state.id:s.teamFromRequest=void 0,s.requestConfigFilters.altIds=void 0,s.requestConfigFilters.compCodeForActivePlayer="EN_PR",s.requestConfigFilters.id=void 0,s.requestConfigFilters.page=0,s.requestConfigFilters.pageSize=30,s.requestConfigFilters.size=void 0,s.resultsContainer.innerHTML="",s.setResultsLoading(),s.currentCompSeasonId=a[0].state.id;var e=_.common.createApiPath("players.all",s.requestConfigFilters);s.initData(e,s.currentFilterCallback)}if(s.currentFilterCallback===s.getPlayerData){var l=s.selectedPlayerSlot.querySelector(".player-comparison__range-filter-wrap"),o=a[0].state.id,r=a[1].state.id;l.setAttribute("data-range-from",o),l.setAttribute("data-range-to",r);var n=s.selectedPlayerSlot.querySelector(".player-comparison__range-filter"),i=s.selectedPlayerSlot.querySelector(".player-comparison__range-checkbox"),p=s.selectedPlayerSlot.querySelector(".player-comparison__checkbox");-1==o?(n.classList.contains("on")&&y.call(p,s),d.style.addClass(i,"disabled")):d.style.removeClass(i,"disabled"),s.getPlayerData(s.selectedPlayerId,!0,o,r)}},_.playerComparison.prototype.initData=function(a,e){var t={url:a,method:"GET",callback:e,target:this,forceCallback:!0};this.startData(t)},_.playerComparison.prototype.startData=function(a){this.currentRequest=d.data.manager.add(a)},_.playerComparison.prototype.setResultsLoading=function(){var a=this,e=a.resultsWrap.classList.contains("searchActive"),t=0<a.searchInput.value.length;e&&t&&!a.searchResultsLoader.element?a.searchResultsLoader.reAppend():a.filterResultsLoader.element||a.filterResultsLoader.reAppend();var s=e&&t?a.searchResultsWrap.querySelector(".loader"):a.filterResultsWrap.querySelector(".loader");if(s&&!s.hasChildNodes()){var l=Mustache.render(_.templates.scrollloader,{load:v.lookup("label.loadingmore")});s.innerHTML=l}},_.playerComparison.prototype.didRequestLoad=function(){var a=this,e=a.resultsWrap.classList.contains("searchActive");if(a.resultsContainer.hasChildNodes()&&(!e||a.searchResultsContainer.hasChildNodes()))if(a.setResultsLoading(),e&&void 0!==a.searchPath)a.requestConfigSearch.start=isNaN(a.requestConfigSearch.start)?30:a.requestConfigSearch.start+30,a.searchPath=_.common.createSearchPath([a.currentSearchTerm,a.currentSearchTerm+"*"],["player"],a.requestConfigSearch),a.initData(a.searchPath,a.modelSearchResults);else{a.teamFromRequest&&(a.requestConfigFilters.teams=a.teamFromRequest),a.requestConfigFilters.altIds=void 0,a.requestConfigFilters.comps=void 0,a.requestConfigFilters.id=void 0,a.requestConfigFilters.pageSize=30,a.requestConfigFilters.size=void 0,a.requestConfigFilters.page++;var t=_.common.createApiPath("players.all",a.requestConfigFilters);a.initData(t,a.renderFilteredResults)}},_.playerComparison.prototype.getResultsModel=function(a){var t=this,e=[];a.content&&(e=a.content.filter(function(a){return void 0!==a}).map(function(a){var e={};return a&&(e.compSeasonId=t.currentCompSeasonId,e.id=a.id,e.name=a.name.display,e.position=b(a.info.position)),e}));return{players:e}},_.playerComparison.prototype.renderFilteredResults=function(a,e,t){var s=this,l=t?s.searchResultsContainer:s.resultsContainer;if(a&&a.content){var o=s.getResultsModel(a);if(a.found){s.resultsNotice.innerHTML="";var r=1<a.found?v.lookup("label.results"):v.lookup("label.result"),n=document.createElement("span"),i=document.createTextNode(r);n.innerHTML=a.found,s.resultsNotice.appendChild(n),s.resultsNotice.appendChild(i)}var p=Mustache.render(_.templates.searchresults,o);0<s.requestConfigFilters.page||0<s.requestConfigSearch.start?l.innerHTML+=p:l.innerHTML=p;for(var c=function(){var a=this.getAttribute("data-player-id"),e=this.getAttribute("data-compseason-id");s.selectedPlayerId=a,s.playerCompSeasonId=e,h(s.widget),s.getPlayerData(s.selectedPlayerId)},d=l.querySelectorAll(".player-comparison__result"),m=0;m<d.length;m++)g(d[m],c.bind(d[m]));var u=t?s.searchResultsLoader:s.filterResultsLoader;u.contentLoaded(),!u.loading&&a.content.length<=0?u.removeLoader():a.pageInfo&&1===a.pageInfo.numPages&&a.pageInfo.numEntries<=30?u.removeLoader():!a.pageInfo&&a.found<=30&&u.removeLoader()}else{var y={label:v.lookup("label.nocontentplayer")};l.innerHTML=Mustache.render(_.templates.searchempty,y),s.searchResultsLoader.removeLoader()}},_.playerComparison.prototype.getPlayerData=function(a,e,t,s){var l=this;if(!isNaN(a)){l.requestConfigFilters.altIds=!0,l.requestConfigFilters.compCodeForActivePlayer="EN_PR",l.requestConfigFilters.comps=1,l.requestConfigFilters.id=parseInt(a),l.requestConfigFilters.fullObjectResponse=void 0,l.requestConfigFilters.page=0,l.requestConfigFilters.pageSize=1,l.requestConfigFilters.size=void 0,l.requestConfigFilters.teams=void 0,l.requestConfigFilters.compSeasons="-1"==t?void 0:t&&s?function(a,e,t){var s,l;if(!a.isRangeFilterOn)return e;var o=_.filterData.getAllCompSeasonIds(1).split(",");l=e<t?(s=Number(e),Number(t)):(s=Number(t),Number(e));return s===l?s:o.filter(function(a){return s<=a&&a<=l})}(l,t,s):l.playerCompSeasonId;var o=_.common.createApiPath("stats.player",l.requestConfigFilters),r=e?l.renderPlayerStats:l.renderPlayer;l.initData(o,r)}},_.playerComparison.prototype.renderPlayerStats=function(a){var e=this,t=0,s=e.getPlayerModel(a).stats;for(var l in s){var o=s[l];if(!e.hasRenderPlayerInit){var r=e.topBar.querySelector(".inactive");r&&r.classList.contains("inactive")&&(e.initAddPlayer(r),d.style.removeClass(r,"inactive")),e.accordion.innerHTML+=Mustache.render(_.templates.playerstats,o)}var n=o.stats,i=e.accordion.querySelectorAll('[data-player-slot="'+e.selectedPlayerSlotN+'"]');for(var p in i[t].innerHTML="",n)0<=!e.defaultStats.indexOf(p)&&e.defaultStats.push(p),i[t].innerHTML+=Mustache.render(_.templates.playerstat,n[p]);t++}e.hasRenderPlayerInit||function(a){for(var e=a.querySelectorAll(f),t=0;t<e.length;t++){var s=e[t].querySelector(C);g(s,m.bind(s))}}(e.accordion),d.style.removeClass(e.topBar,"inactive"),e.compareStats(),e.resetAccordions(),e.hasRenderPlayerInit=!0,e.isPageLoadRender&&0===e.renderOnPageLoadCounter?(e.renderOnPageLoadCounter++,e.renderOnPageLoad(e.urlParams)):e.isPageLoadRender=!1},_.playerComparison.prototype.getPlayerModel=function(a){var e={id:a.entity.id,imageSize:"110x140",image:_.common.getDefaultPlayerImg("110x140"),labelChangeBtn:v.lookup("label.playercomparison.change"),labelCheckbox:v.lookup("label.showseasonrange"),labelFor:v.lookup("label.photofor"),name:a.entity.name.display,optaId:a.entity.altIds.opta,position:b(a.entity.info.position),slot:this.selectedPlayerSlot.getAttribute("data-player-slot"),isActive:a.entity.active},s={overview:{label:v.lookup("label.stat.overview"),stats:{appearances:{key:"appearances",label:v.lookup("label.stat.appearances"),value:0},goals:{key:"goals",label:v.lookup("label.stat.goals"),value:0},goal_assist:{key:"goal_assist",label:v.lookup("label.stat.assists"),value:0},clean_sheet:{key:"clean_sheet",label:v.lookup("label.stat.clean_sheet"),value:0},saves:{key:"saves",label:v.lookup("label.stat.saves"),value:0},yellow_card:{key:"yellow_card",label:v.lookup("label.stat.total_yel_card"),value:0},red_card:{key:"red_card",label:v.lookup("label.stat.total_red_card"),value:0}}},attacking:{label:v.lookup("label.stat.attacking"),stats:{goals:{key:"goals",label:v.lookup("label.stat.goals"),value:0},goals_per_game:{key:"goals_per_game",label:v.lookup("label.stat.goals_per_game"),value:0},min_per_goal:{key:"min_per_goal",label:v.lookup("label.stat.min_per_goal"),value:0},total_scoring_att:{key:"total_scoring_att",label:v.lookup("label.stat.total_scoring_att"),value:0},ontarget_scoring_att:{key:"ontarget_scoring_att",label:v.lookup("label.stat.ontarget_scoring_att"),value:0},shot_off_target:{key:"shot_off_target",label:v.lookup("label.stat.shot_off_target"),value:0},shooting_accuracy:{key:"shooting_accuracy",label:v.lookup("label.stat.shooting_accuracy"),value:0},shooting_success:{key:"shooting_success",label:v.lookup("label.stat.shooting_success"),value:0},att_pen_goal:{key:"att_pen_goal",label:v.lookup("label.stat.att_pen_goal"),value:0},penalty_save:{key:"penalty_save",label:v.lookup("label.stat.penalty_save"),value:0},pen_missed:{key:"pen_missed",label:v.lookup("label.stat.pen_missed"),value:0},penalty_won:{key:"penalty_won",label:v.lookup("label.stat.penalty_won"),value:0},att_freekick_goal:{key:"att_freekick_goal",label:v.lookup("label.stat.att_freekick_goal"),value:0},att_rf_goal:{key:"att_rf_goal",label:v.lookup("label.stat.att_rf_goal"),value:0},att_lf_goal:{key:"att_lf_goal",label:v.lookup("label.stat.att_lf_goal"),value:0},att_hd_goal:{key:"att_hd_goal",label:v.lookup("label.stat.att_hd_goal"),value:0},att_ibox_goal:{key:"att_ibox_goal",label:v.lookup("label.stat.att_ibox_goal"),value:0},att_obox_goal:{key:"att_obox_goal",label:v.lookup("label.stat.att_obox_goal"),value:0},hit_woodwork:{key:"hit_woodwork",label:v.lookup("label.stat.hit_woodwork"),value:0},big_chance_scored:{key:"big_chance_scored",label:v.lookup("label.stat.big_chance_scored"),value:0},big_chance_missed:{key:"big_chance_missed",label:v.lookup("label.stat.big_chance_missed"),value:0}}},teamplay:{label:v.lookup("label.stat.teamplay"),stats:{goal_assist:{key:"goal_assist",label:v.lookup("label.stat.goal_assist"),value:0},big_chance_created:{key:"big_chance_created",label:v.lookup("label.stat.big_chance_created"),value:0},total_pass:{key:"total_pass",label:v.lookup("label.stat.total_pass"),value:0},passes_completion_per:{key:"passes_completion_per",label:v.lookup("label.stat.passes_completion_per"),value:0},fwd_pass:{key:"fwd_pass",label:v.lookup("label.stat.forward_pass"),value:0},backward_pass:{key:"backward_pass",label:v.lookup("label.stat.backward_pass"),value:0},touches:{key:"touches",label:v.lookup("label.stat.touches"),value:0},total_through_ball:{key:"total_through_ball",label:v.lookup("label.stat.total_through_ball"),value:0},total_cross:{key:"total_cross",label:v.lookup("label.stat.total_cross"),value:0},dispossessed:{key:"dispossessed",label:v.lookup("label.stat.dispossessed"),value:0}}},defending:{label:v.lookup("label.stat.defending"),stats:{clean_sheet:{key:"clean_sheet",label:v.lookup("label.stat.clean_sheet"),value:0},goals_conceded:{key:"goals_conceded",label:v.lookup("label.stat.goals_conceded"),value:0},outfielder_block:{key:"outfielder_block",label:v.lookup("label.stat.outfielder_block"),value:0},interception:{key:"interception",label:v.lookup("label.stat.interception"),value:0},total_tackle:{key:"total_tackle",label:v.lookup("label.stat.total_tackle"),value:0},won_tackle:{key:"won_tackle",label:v.lookup("label.stat.won_tackle"),value:0},last_man_tackle:{key:"last_man_tackle",label:v.lookup("label.stat.last_man_tackle"),value:0},total_clearance:{key:"total_clearance",label:v.lookup("label.stat.total_clearance"),value:0},head_clearance:{key:"head_clearance",label:v.lookup("label.stat.head_clearance"),value:0},aerial_won:{key:"aerial_won",label:v.lookup("label.stat.aerial_won"),value:0},own_goals:{key:"own_goals",label:v.lookup("label.stat.own_goals"),value:0},error_lead_to_goal:{key:"error_lead_to_goal",label:v.lookup("label.stat.error_lead_to_goal"),value:0},penalty_conceded:{key:"penalty_conceded",label:v.lookup("label.stat.penalty_conceded"),value:0}}},goalkeeping:{label:v.lookup("label.goalkeeping"),stats:{clean_sheet:{key:"clean_sheet",label:v.lookup("label.stat.clean_sheet"),value:0},goals_conceded:{key:"goals_conceded",label:v.lookup("label.stat.goals_conceded"),value:0},saves:{key:"saves",label:v.lookup("label.stat.saves"),value:0},saves_per_match:{key:"saves_per_match",label:v.lookup("label.stat.saves_per_match"),value:0},saves_success:{key:"saves_success",label:v.lookup("label.stat.saves_success"),value:0},penalty_faced:{key:"penalty_faced",label:v.lookup("label.stat.penalty_faced"),value:0},penalty_save:{key:"penalty_save",label:v.lookup("label.stat.penalty_save"),value:0},punches:{key:"punches",label:v.lookup("label.stat.punches"),value:0},total_high_claim:{key:"total_high_claim",label:v.lookup("label.stat.total_high_claim"),value:0},total_keeper_sweeper:{key:"total_keeper_sweeper",label:v.lookup("label.stat.total_keeper_sweeper"),value:0},keeper_throws:{key:"keeper_throws",label:v.lookup("label.stat.keeper_throws"),value:0}}},matches:{label:v.lookup("label.stat.matches"),stats:{appearances:{key:"appearances",label:v.lookup("label.stat.appearances"),value:0},mins_played:{key:"mins_played",label:v.lookup("label.stat.mins_played"),value:0},game_started:{key:"game_started",label:v.lookup("label.stat.game_started"),value:0},total_sub_on:{key:"total_sub_on",label:v.lookup("label.stat.total_sub_on"),value:0},total_sub_off:{key:"total_sub_off",label:v.lookup("label.stat.total_sub_off"),value:0},total_distance_in_m:{key:"total_distance_in_m",label:v.lookup("label.stat.total_distance_in_m"),value:0},distance_per_match:{key:"distance_per_match",label:v.lookup("label.stat.distance_per_match"),value:0}}},discipline:{label:v.lookup("label.stats.Discipline"),stats:{yellow_card:{key:"yellow_card",label:v.lookup("label.stat.total_yel_card"),value:0},red_card:{key:"red_card",label:v.lookup("label.stat.total_red_card"),value:0},fouls:{key:"fouls",label:v.lookup("label.stat.fouls"),value:0},penalty_conceded:{key:"penalty_conceded",label:v.lookup("label.stat.penalty_conceded"),value:0},total_offside:{key:"total_offside",label:v.lookup("label.stat.total_offside"),value:0}}}},l="";if(a.stats.reduce(function(a,e){if("appearances"===e.name&&(s.overview.stats.appearances.value=e.value),"goals"===e.name&&(s.overview.stats.goals.value=e.value),"goal_assist"===e.name&&(s.overview.stats.goal_assist.value=e.value),"clean_sheet"===e.name&&(s.overview.stats.clean_sheet.value=e.value),"saves"===e.name&&(s.overview.stats.saves.value=e.value),"yellow_card"===e.name&&(s.overview.stats.yellow_card.value=e.value),"red_card"===e.name&&(s.overview.stats.red_card.value=e.value),"goals"===e.name&&(s.attacking.stats.goals.value=e.value),"total_scoring_att"===e.name&&(s.attacking.stats.total_scoring_att.value=e.value),"ontarget_scoring_att"===e.name&&(s.attacking.stats.ontarget_scoring_att.value=e.value),"shot_off_target"===e.name&&(s.attacking.stats.shot_off_target.value=e.value),"att_pen_goal"===e.name&&(s.attacking.stats.att_pen_goal.value=e.value),"penalty_save"===e.name&&(s.attacking.stats.penalty_save.value=e.value),"penalty_won"===e.name&&(s.attacking.stats.penalty_won.value=e.value),"att_freekick_goal"===e.name&&(s.attacking.stats.att_freekick_goal.value=e.value),"att_rf_goal"===e.name&&(s.attacking.stats.att_rf_goal.value=e.value),"att_lf_goal"===e.name&&(s.attacking.stats.att_lf_goal.value=e.value),"att_hd_goal"===e.name&&(s.attacking.stats.att_hd_goal.value=e.value),"att_ibox_goal"===e.name&&(s.attacking.stats.att_ibox_goal.value=e.value),"att_obox_goal"===e.name&&(s.attacking.stats.att_obox_goal.value=e.value),"hit_woodwork"===e.name&&(s.attacking.stats.hit_woodwork.value=e.value),"big_chance_scored"===e.name&&(s.attacking.stats.big_chance_scored.value=e.value),"big_chance_missed"===e.name&&(s.attacking.stats.big_chance_missed.value=e.value),"goal_assist"===e.name&&(s.teamplay.stats.goal_assist.value=e.value),"big_chance_created"===e.name&&(s.teamplay.stats.big_chance_created.value=e.value),"total_pass"===e.name&&(s.teamplay.stats.total_pass.value=e.value.toLocaleString()),"fwd_pass"===e.name&&(s.teamplay.stats.fwd_pass.value=e.value.toLocaleString()),"backward_pass"===e.name&&(s.teamplay.stats.backward_pass.value=e.value.toLocaleString()),"touches"===e.name&&(s.teamplay.stats.touches.value=e.value.toLocaleString()),"total_through_ball"===e.name&&(s.teamplay.stats.total_through_ball.value=e.value),"total_cross"===e.name&&(s.teamplay.stats.total_cross.value=e.value),"dispossessed"===e.name&&(s.teamplay.stats.dispossessed.value=e.value),"accurate_pass"===e.name&&(l=e.value),"clean_sheet"===e.name&&(s.defending.stats.clean_sheet.value=e.value),"goals_conceded"===e.name&&(s.defending.stats.goals_conceded.value=e.value),"outfielder_block"===e.name&&(s.defending.stats.outfielder_block.value=e.value),"interception"===e.name&&(s.defending.stats.interception.value=e.value),"total_tackle"===e.name&&(s.defending.stats.total_tackle.value=e.value),"won_tackle"===e.name&&(s.defending.stats.won_tackle.value=e.value),"last_man_tackle"===e.name&&(s.defending.stats.last_man_tackle.value=e.value),"total_clearance"===e.name&&(s.defending.stats.total_clearance.value=e.value),"head_clearance"===e.name&&(s.defending.stats.head_clearance.value=e.value),"aerial_won"===e.name&&(s.defending.stats.aerial_won.value=e.value),"own_goals"===e.name&&(s.defending.stats.own_goals.value=e.value),"error_lead_to_goal"===e.name&&(s.defending.stats.error_lead_to_goal.value=e.value),"penalty_conceded"===e.name&&(s.defending.stats.penalty_conceded.value=e.value),"clean_sheet"===e.name&&(s.goalkeeping.stats.clean_sheet.value=e.value),"goals_conceded"===e.name&&(s.goalkeeping.stats.goals_conceded.value=e.value),"saves"===e.name&&(s.goalkeeping.stats.saves.value=e.value),"penalty_save"===e.name&&(s.goalkeeping.stats.penalty_save.value=e.value),"penalty_faced"===e.name&&(s.goalkeeping.stats.penalty_faced.value=e.value),"punches"===e.name&&(s.goalkeeping.stats.punches.value=e.value),"total_high_claim"===e.name&&(s.goalkeeping.stats.total_high_claim.value=e.value),"total_keeper_sweeper"===e.name&&(s.goalkeeping.stats.total_keeper_sweeper.value=e.value),"keeper_throws"===e.name&&(s.goalkeeping.stats.keeper_throws.value=e.value),"appearances"===e.name&&(s.matches.stats.appearances.value=e.value),"mins_played"===e.name&&(s.matches.stats.mins_played.value=e.value.toLocaleString()),"game_started"===e.name&&(s.matches.stats.game_started.value=e.value),"total_sub_on"===e.name&&(s.matches.stats.total_sub_on.value=e.value),"total_sub_off"===e.name&&(s.matches.stats.total_sub_off.value=e.value),"total_distance_in_m"===e.name){var t=e.value/1e3;s.matches.stats.total_distance_in_m.value=t.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}return"yellow_card"===e.name&&(s.discipline.stats.yellow_card.value=e.value),"red_card"===e.name&&(s.discipline.stats.red_card.value=e.value),"fouls"===e.name&&(s.discipline.stats.fouls.value=e.value),"penalty_conceded"===e.name&&(s.discipline.stats.penalty_conceded.value=e.value),"total_offside"===e.name&&(s.discipline.stats.total_offside.value=e.value),a},s),0!=s.overview.stats.appearances.value&&0!=s.overview.stats.goals.value){var t=parseInt(s.overview.stats.goals.value)/parseInt(s.overview.stats.appearances.value);s.attacking.stats.goals_per_game.value=t.toFixed(2)}if(0!=s.matches.stats.mins_played.value&&0!=s.overview.stats.goals.value){var o=parseInt(s.matches.stats.mins_played.value.replace(/\,/g,""))/parseInt(s.overview.stats.goals.value);s.attacking.stats.min_per_goal.value=Math.ceil(o).toLocaleString()}if(0!=s.attacking.stats.ontarget_scoring_att.value&&0!=s.attacking.stats.shot_off_target.value){var r=parseInt(s.attacking.stats.ontarget_scoring_att.value),n=parseInt(s.attacking.stats.shot_off_target.value),i=parseInt(r)/(r+n)*100;s.attacking.stats.shooting_accuracy.value=i.toFixed(2)}if(0!=s.attacking.stats.total_scoring_att.value&&0!=s.overview.stats.goals.value){var p=parseInt(s.overview.stats.goals.value)/parseInt(s.attacking.stats.total_scoring_att.value)*100;s.attacking.stats.shooting_success.value=p.toFixed(2)}if(""!=l&&0!=l&&0!=s.teamplay.stats.total_pass.value){var c=s.teamplay.stats.total_pass.value.replace(/\,/g,""),d=parseInt(l)/parseInt(c)*100;s.teamplay.stats.passes_completion_per.value=d.toFixed(2)}if(0!=s.overview.stats.appearances.value&&0!=s.goalkeeping.stats.saves.value){var m=parseInt(s.goalkeeping.stats.saves.value)/parseInt(s.overview.stats.appearances.value);s.goalkeeping.stats.saves_per_match.value=m.toFixed(2)}if(0!=s.goalkeeping.stats.goals_conceded.value&&0!=s.goalkeeping.stats.saves.value){var u=s.goalkeeping.stats.saves.value/(s.goalkeeping.stats.goals_conceded.value+s.goalkeeping.stats.saves.value)*100;s.goalkeeping.stats.saves_success.value=u.toFixed(2)}if(0!=s.overview.stats.appearances.value&&0!=s.matches.stats.total_distance_in_m.value){var y=s.matches.stats.total_distance_in_m.value.replace(/\,/g,""),g=parseFloat(y)/parseInt(s.overview.stats.appearances.value);s.matches.stats.distance_per_match.value=g.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}return{card:e,stats:s}},_.playerComparison.prototype.renderPlayer=function(a){var e=this;if(e.defaultStats=[],e.selectedPlayerSlotN=e.selectedPlayerSlot.getAttribute("data-player-slot"),a&&a.stats){var t=e.getPlayerModel(a),s=t.card;e.selectedPlayerSlot.innerHTML=Mustache.render(_.templates.playercard,s);t.stats;e.initPlayerRangeFilter(e.selectedPlayerSlot),e.initAddPlayer(e.selectedPlayerSlot),_.common.getPhotosForContainer(e.selectedPlayerSlot),e.currentRequest.stop()}},_.playerComparison.prototype.compareStats=function(){if(this.hasRenderPlayerInit)for(var r=[].slice.call(this.accordion.querySelectorAll('[data-player-slot="0"]')),n=[].slice.call(this.accordion.querySelectorAll('[data-player-slot="1"]')),i=["big_chance_missed","dispossessed","goals_conceded","min_per_goal","shot_off_target","red_card","yellow_card","penalty_conceded","total_sub_off","total_offside","fouls"],a=function(a){for(var e=0;e<r.length;e++){var t=r[e].querySelector('[data-stat="'+a+'"]'),s=n[e].querySelector('[data-stat="'+a+'"]');if(null!=t&&null!=s){var l=t.getAttribute("data-stat-val"),o=s.getAttribute("data-stat-val");if(d.style.removeClass(t,"highlight"),d.style.removeClass(s,"highlight"),(l=parseFloat(l.replace(/\,/g,"")))===(o=parseFloat(o.replace(/\,/g,""))))continue;(0<=i.indexOf(a)?l<o:o<l)?(d.style.addClass(t,"highlight"),d.style.removeClass(s,"highlight")):(d.style.removeClass(t,"highlight"),d.style.addClass(s,"highlight"))}}},e=this.defaultStats,t=0;t<e.length;t++)a(e[t])},_.playerComparison.prototype.resetAccordions=function(){var a=this;if(!a.isRangeFilter){a.accordionBtns=a.accordionBtns||a.accordion.getElementsByClassName("player-comparison__stats-group-header");for(var e=0;e<a.accordionBtns.length;e++)0===e&&a.accordionBtns[0].classList.contains("active")||a.accordionBtns[e].classList.contains("active")&&m.call(a.accordionBtns[e]);a.setAccordionsDefaultState(),t(a.widget)}},_.playerComparison.prototype.setAccordionsDefaultState=function(){this.accordionBtns=this.accordionBtns||this.accordion.getElementsByClassName("player-comparison__stats-group-header");var a=this.accordionBtns[0];a.classList.contains("active")||m.call(a)};_.filterGroups.setData(function(){var a=document.querySelector('[data-widget="player-comparison"]')||[];new _.playerComparison(a)})}(PULSE.app,PULSE.ui,PULSE.core,PULSE.I18N),function(p,a,n,c){p.playerComparisonWidget=function(a){this.widget=a,this.widgetData={},this.getCompSeasonData()},p.playerComparisonWidget.prototype.getCompSeasonData=function(){var a={id:p.competition.FIRST,pageSize:50},e={url:p.common.createApiPath("competition.season",a),method:"GET",callback:this.storeCompSeason,target:this};n.data.manager.add(e)},p.playerComparisonWidget.prototype.storeCompSeason=function(a){a&&a.content?this.seasonData=a.content:this.seasonData=null,this.getDataModel()},p.playerComparisonWidget.prototype.getCompSeasonLabel=function(a){var e;if(this.seasonData)for(var t=this.seasonData,s=0;s<t.length;s++)if(t[s].id===a){e=t[s].label;break}return e},p.playerComparisonWidget.prototype.getDataModel=function(){for(var a=this,e=a.widget.querySelectorAll("[data-player-model]"),t=0;t<e.length;t++){var s=e[t].getAttribute("data-player-model"),l=JSON.parse(s);if(l.seasonLabel=a.getCompSeasonLabel(l.seasonId),0!=l.appearances&&0!=l.goals){var o=parseInt(l.goals)/parseInt(l.appearances);l.goals_per_game=o.toFixed(2)}else l.goals_per_game=0;if(0!=l.goals_conceded&&0!=l.saves){var r=parseInt(l.saves)/(parseInt(l.goals_conceded)+parseInt(l.saves))*100;l.saves_success=r.toFixed(2)}else l.saves_success=0;a.widgetData["player"+t]=l}a.widgetData.labels={appearances:c.lookup("label.stat.appearances"),assists:c.lookup("label.stat.goal_assist"),big_chance_created:c.lookup("label.stat.big_chance_created"),btn:c.lookup("label.fullplayercomparison"),clean_sheet:c.lookup("label.stat.clean_sheet"),clearances:c.lookup("label.stat.total_clearance"),goals:c.lookup("label.stat.goals"),goals_conceded:c.lookup("label.stat.goals_conceded"),goalsPerGame:c.lookup("label.stat.goals_per_game"),name:c.lookup("label.name"),passes:c.lookup("label.stat.total_pass"),photoFor:c.lookup("label.photofor"),saves:c.lookup("label.stat.saves"),saves_success:c.lookup("label.stat.saves_success"),season:c.lookup("label.player.season"),shots:c.lookup("label.stat.total_scoring_att"),tackles:c.lookup("label.stat.total_tackle")};var n=a.widgetData.player0,i=a.widgetData.player1;a.widgetData.btnUrl="/stats/player-comparison?player0Id="+n.id+"&player0isActive="+n.isActive+"&player0compSeasonId="+n.seasonId+"&player1Id="+i.id+"&player1isActive="+i.isActive+"&player1compSeasonId="+i.seasonId,a.widgetData.placeholderSrc=p.common.getDefaultPlayerImg("110x140"),a.renderWidget(a.widgetData)},p.playerComparisonWidget.prototype.renderWidget=function(a){var e=this.widget.querySelectorAll(".js-player-widget"),t="";switch(e[0].getAttribute("data-player-pos")+e[1].getAttribute("data-player-pos")){case"DD":t=Mustache.render(p.templates.widgetdef,a);break;case"DM":case"MD":t=Mustache.render(p.templates.widgetmiddef,a);break;case"FF":t=Mustache.render(p.templates.widgetfwd,a);break;case"GG":t=Mustache.render(p.templates.widgetgkp,a);break;case"MM":t=Mustache.render(p.templates.widgetmid,a);break;default:t=Mustache.render(p.templates.widgetfwd,a)}this.widget.innerHTML=t,this.renderPlayerPhotos(),this.compareStats()},p.playerComparisonWidget.prototype.renderPlayerPhotos=function(){for(var a=this.widget.querySelectorAll(".player-comparison-editorial__player-img-wrap"),e=0;e<a.length;e++)p.common.getPhotosForContainer(a[e])},p.playerComparisonWidget.prototype.compareStats=function(){for(var o=this,a=[],e=o.widget.querySelectorAll("[data-stat]"),t=0;t<e.length;t++){var s=e[t].getAttribute("data-stat");0<=!a.indexOf("stat")&&a.push(s)}function l(a){var e=o.widget.querySelectorAll('[data-stat="'+a+'"]');if(null!=e[0]&&null!=e[1]){var t=e[0].getAttribute("data-stat-val"),s=e[1].getAttribute("data-stat-val"),l=function(a,e){for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(a){for(var e=(this.document||this.ownerDocument).querySelectorAll(a),t=e.length;0<=--t&&e.item(t)!==this;);return-1<t});a&&a!==document;a=a.parentNode)if(a.matches(e))return a;return null}(e[0],".player-comparison-editorial__table-row");if(0===t||0===s)return;if((t=parseFloat(t.replace(/\,/g,"")))===(s=parseFloat(s.replace(/\,/g,""))))return;(0<=r.indexOf(a)?t<s:s<t)?(n.style.addClass(e[0],"highlight"),n.style.addClass(l,"highlight"),n.style.addClass(l,"highlight--left")):(n.style.addClass(e[1],"highlight"),n.style.addClass(l,"highlight"),n.style.addClass(l,"highlight--right"))}}var r=["goals_conceded"];if(0<a.length)for(t=0;t<a.length;t++)l(a[t])};!function(){for(var a=document.querySelectorAll('[data-widget="player-comparison-widget"]')||[],e=0;e<a.length;e++)new p.playerComparisonWidget(a[e])}()}(PULSE.app,PULSE.ui,PULSE.core,PULSE.I18N),function(m,s,u,o,y){function i(a){o.style.addClass(a.headToHeadContainer,"is-visible");var e={teams:a.teamCompare.teamOne.teamId+","+a.teamCompare.teamTwo.teamId,altIds:!0,comps:m.competition.FIRST},t=a.renderHeadToHead;a.initData("stats.headtohead",e,t)}var r=function(a){var e=a.element.querySelector(".head-to-head-comparison");return{element:e,teamOne:{element:e.querySelector(".team-one")},teamTwo:{element:e.querySelector(".team-two")}}},n=function(a){var e=document.createElement("section");return o.style.addClass(e,"head-to-head-stats-table"),a.element.append(e),e},p=function(a){for(var e=a.element.querySelector(".head-to-head-select-teams"),t=e.getElementsByClassName("team-card"),s={},l=0;l<t.length;l++){var o=t[l].getAttribute("data-team-id");s[o]={},s[o].element=t[l]}return{element:e,teams:s}},c=function(a){var e=a.element.querySelector(".head-to-head-previous"),t=document.querySelectorAll('[data-widget="head-to-head-fixtures"]');t.length&&o.style.addClass(e,"is-visible");for(var s=0;s<t.length;s++)e.appendChild(t[s]);return e},d=function(t){t.teamCompare.element.addEventListener("click",function(a){if(a.preventDefault(),null!==a.target.closest(".team-one"))t.teamCompare.target="teamOne";else{if(null===a.target.closest(".team-two"))return;t.teamCompare.target="teamTwo"}_(t)}),t.teamSelectorPanel.element.addEventListener("click",function(a){a.preventDefault();var e=a.target.closest(".team-card");e&&(o.style.hasClass(e,"is-selected")||(t.teamSelectorPanel.selectedTeam=e,v(t)))});for(var a=t.fixturePanel.getElementsByClassName("matchAbridged"),e=0;e<a.length;e++){a[e].addEventListener("click",function(a){a.preventDefault(),l(t,this)})}},g=function(a,e){var t=a.filter(function(a){return a.name===e});return 0<t.length?t[0].value:0},_=function(a){a.teamCompare.target||(a.teamCompare.target="teamOne");var e=a.teamCompare[a.teamCompare.target].teamId;e&&o.style.removeClass(a.teamSelectorPanel.teams[e].element,"is-selected");var t=a.teamCompare[a.teamCompare.target].element;o.style.removeClass(t,"selected"),o.style.addClass(t,"active"),"teamTwo"!==a.teamCompare.target||a.teamCompare.teamOne.teamId||o.style.removeClass(a.teamCompare.teamOne.element,"active"),t.querySelector(".team-name h4").textContent="",o.style.removeClass(a.headToHeadContainer,"is-visible"),o.style.removeClass(a.fixturePanel,"is-visible"),o.style.addClass(a.teamSelectorPanel.element,"is-visible")},l=function(r,n){o.style.removeClass(r.fixturePanel,"is-visible"),["teamOne","teamTwo"].forEach(function(a,e){var t=r.teamCompare[a].element,s=n.getAttribute("data-team-name").split("|")[e],l=n.getAttribute("data-team-id").split("|")[e],o=n.getAttribute("data-opta-id").split("|")[e];r.teamCompare[a].teamId=l,r.teamCompare[a].optaId=o,h(t,s,o)}),i(r)},v=function(a){var e=a.teamSelectorPanel.selectedTeam,t=a.teamCompare[a.teamCompare.target].element,s=a.teamCompare[a.teamCompare.target].teamId;s&&o.style.removeClass(a.teamSelectorPanel.teams[s].element,"is-selected"),o.style.addClass(e,"is-selected"),a.teamCompare[a.teamCompare.target].teamId=e.getAttribute("data-team-id"),a.teamCompare[a.teamCompare.target].optaId=e.getAttribute("data-opta-id"),h(t,e.getAttribute("data-team-name"),a.teamCompare[a.teamCompare.target].optaId),a.teamCompare.teamOne.teamId&&a.teamCompare.teamTwo.teamId?(i(a),o.style.removeClass(a.teamSelectorPanel.element,"is-visible")):f(a)},h=function(t,a,s){o.style.addClass(t,"selected"),o.style.removeClass(t,"active"),t.querySelector(".team-name h4").textContent=a,[".badge-70",".badge-100"].forEach(function(a){var e=t.querySelector(a);b(e,s)})},b=function(a,e){a.className=a.className.replace(/[t][0-9]+/g,""),o.style.addClass(a,e)},f=function(a){"teamOne"!==a.teamCompare.target||a.teamCompare.teamTwo.teamId?"teamTwo"!==a.teamCompare.target||a.teamCompare.teamOne.teamId||(o.style.addClass(a.teamCompare.teamOne.element,"active"),a.teamCompare.target="teamOne"):(o.style.addClass(a.teamCompare.teamTwo.element,"active"),a.teamCompare.target="teamTwo")};m.statsHeadToHead=function(a){var e,t=this;t.element=a,(e=t).teamSelectorPanel=p(e),e.headToHeadContainer=n(e),e.teamCompare=r(e),e.fixturePanel=c(e),d(e),_(e),t.stats=[{name:"goals",highestNumberIsBest:!0},{name:"penalty_won",highestNumberIsBest:!0},{name:"att_pen_goal",highestNumberIsBest:!0},{name:"clean_sheet",highestNumberIsBest:!0},{name:"total_yel_card",highestNumberIsBest:!1},{name:"total_red_card",highestNumberIsBest:!1}];var s=o.url.getParameterByName("team1Id"),l=o.url.getParameterByName("team2Id");t.buildTabs(),s&&l&&function(a,e,t){var s=a.teamSelectorPanel.teams[e],l=a.teamSelectorPanel.teams[t];o.style.addClass(s,"is-selected"),o.style.addClass(l,"is-selected");a.element.querySelector(".head-to-head-previous");a.teamCompare.teamOne.teamId=s.element.getAttribute("data-team-id"),a.teamCompare.teamOne.optaId=s.element.getAttribute("data-opta-id"),a.teamCompare.teamTwo.teamId=l.element.getAttribute("data-team-id"),a.teamCompare.teamTwo.optaId=l.element.getAttribute("data-opta-id"),h(a.teamCompare.teamOne.element,s.element.getAttribute("data-team-name"),s.element.getAttribute("data-opta-id")),h(a.teamCompare.teamTwo.element,l.element.getAttribute("data-team-name"),l.element.getAttribute("data-opta-id")),o.style.removeClass(a.teamSelectorPanel.element,"is-visible"),o.style.removeClass(a.element.querySelector(".head-to-head-previous"),"is-visible"),i(a)}(t,s,l)},m.statsHeadToHead.prototype.initData=function(a,e,t){var s={url:m.common.createApiPath(a,e),method:"GET",callback:t,target:this,forceCallback:!0};this.startData(s)},m.statsHeadToHead.prototype.buildTabs=function(){var e=this,a={tabItems:e.element.getElementsByClassName("headToHeadToggleContainer"),tabLinkWrap:e.element.querySelector(".headToHeadToggle"),disableClass:"btn-tab-disabled",tabCallback:function(a){e.checkTab(a)}};e.headToHeadTabs=new s.tab(a)},m.statsHeadToHead.prototype.checkTab=function(a){"current"==a.config.current.uiArgs.type||this.allRendered||this.findAllTeams(a.config.current.content)},m.statsHeadToHead.prototype.findAllTeams=function(a){new s.loader(a,{init:!0,loaderTemplate:m.templates.loader});var e={altIds:!0,comps:m.competition.FIRST,pageSize:100},t={url:m.common.createApiPath("teams.all",e),method:"GET",callback:this.renderAllTeams,target:this,forceCallback:!0,container:a};this.startData(t)},m.statsHeadToHead.prototype.renderAllTeams=function(a,e){var t=this,s="";if(t.allRendered=!0,a&&a.content&&e&&e.container){a.content.forEach(function(a){var e,t=((e=a).opta=e.altIds&&e.altIds.opta?e.altIds.opta:void 0,e);s+=Mustache.render(m.templates.headtoheadteam,t)}),e.container.innerHTML=s;var l=e.container.getElementsByClassName("team-card");if(t.teamSelectorPanel&&t.teamSelectorPanel.teams)for(var o=0;o<l.length;o++){var r=l[o].getAttribute("data-team-id");t.teamSelectorPanel.teams[r]={},t.teamSelectorPanel.teams[r].element=l[o]}}},m.statsHeadToHead.prototype.startData=function(a){o.data.manager.add(a)},m.statsHeadToHead.prototype.renderHeadToHead=function(a){var e=this;if(a&&a.stats&&e.headToHeadContainer){var r=a.stats[e.teamCompare.teamOne.teamId],n=a.stats[e.teamCompare.teamTwo.teamId],t=g(r,"wins"),s=g(n,"wins"),l=g(n,"draws"),i={optaId:[e.teamCompare.teamOne.optaId,e.teamCompare.teamTwo.optaId],matchesPlayed:t+s+l,draws:l,wins:[t,s],stats:[],headToHeads:[],previousMeetingsHeader:y.lookup("label.recentPremierLeagueMeetings")},o=Math.round(i.wins[0]/i.matchesPlayed*100),p=Math.round(i.wins[1]/i.matchesPlayed*100),c=100-o-p;i.width=[o,p,c],e.stats.forEach(function(a,e){var t,s,l,o;i.stats.push((t=a,s=r,l=n,(o={}).label=y.lookup("label.stat."+t.name),o.stats=[g(s,t.name),g(l,t.name)],o.statsClass=["",""],o.stats[0]!=o.stats[1]&&(t.highestNumberIsBest?o.stats[0]>o.stats[1]?o.statsClass[0]="higher":o.statsClass[1]="higher":o.stats[0]<o.stats[1]?o.statsClass[0]="higher":o.statsClass[1]="higher"),o))}),a.headToHeads.forEach(function(a){var e,t,s,l,o;console.log(a),i.headToHeads.push((e=a,t={},s=new Date(e.kickoff.millis),l=e.teams[0],o=e.teams[1],t.matchDate=moment(s).locale(m.language).tz(moment.tz.guess()).format("dddd Do MMMM YYYY"),t.matchVenue=e.ground.name,t.matchUrl=u.generateContentUrl("match",e.id),t.teamName=[l.team.name,o.team.name],t.optaId=[l.team.altIds.opta,o.team.altIds.opta],t.score=[l.score,o.score],t))}),i.isThereAnyHeadToHeads=0<a.headToHeads.length,i.noHeadToHeadsMessage=y.lookup("label.stat.noheadtoheadsmessage");var d=Mustache.render(m.templates.headtoheadstats,i);e.headToHeadContainer.innerHTML=d}};var a=document.querySelectorAll('[data-widget="head-to-head"]');Array.prototype.map.call(a,function(a){a=new m.statsHeadToHead(a)})}(PULSE.app,PULSE.ui,PULSE.app.common,PULSE.core,PULSE.I18N),function(a,o,s){a.recordsTabs=function(a){var e=this;e.element=a;var t={tabItems:document.getElementsByClassName("js-record"),tabLinkWrap:e.element,builtClass:"tabbed",buildCallback:function(a){e.initMoreTab(a)}};e.tabs=new s.tab(t)},a.recordsTabs.prototype.initMoreTab=function(){var l=this,a={navWrap:l.element,moreLabel:"More",toleranceWidth:-50,buildCallback:function(e){for(var a=r.querySelectorAll(".moreToggleDropdown li"),t=function(){var a=this.getAttribute("data-nav-index");l.element.querySelector('li[data-nav-index="'+a+'"]').click(),o.style.removeClass(e.moreNavs.nav,"open")},s=0;s<a.length;s++)a[s].addEventListener("click",t)}};new s.moreNav(a)};var r=document.querySelector('[data-widget="records-tabs"]');new a.recordsTabs(r)}(PULSE.app,PULSE.core,PULSE.ui),function(e,l,a){e.records=function(a){var e=this;e.element=a,e.filterContainer=e.element.querySelector(".js-records-filter-container"),e.record=e.element.querySelector(".js-records-article"),e.recordElements=e.record.childNodes,e.recordSections=e.element.querySelectorAll(".js-records-section"),e.addFilterTags()},e.records.prototype.constructFilters=function(){var t=this,s="";s+='<li class="btn btn-highlight records__filter-btn js-records-filter-btn" data-filter="all" tabindex="0" role="button">'+a.lookup("label.all")+"</li>",Array.prototype.forEach.call(t.recordSections,function(a){var e=a.getAttribute("data-record");s+='<li class="btn records__filter-btn js-records-filter-btn" data-filter="'+e+'" tabindex="0" role="button">'+e+"</li>"}),t.filterContainer.innerHTML=s,t.filterButtons=t.element.querySelectorAll(".js-records-filter-btn"),Array.prototype.forEach.call(t.filterButtons,function(e){["keypress","click"].forEach(function(a){e.addEventListener(a,function(a){if(13===a.which||"click"===a.type){Array.prototype.forEach.call(t.filterButtons,function(a){l.style.removeClass(a,"btn-highlight")});var e=a.currentTarget.getAttribute("data-filter");t.filterItems(e),l.style.addClass(a.currentTarget,"btn-highlight")}})})})},e.records.prototype.filterItems=function(e){var t=this;Array.prototype.forEach.call(t.recordElements,function(a){"all"===e?(l.style.hasClass(a,"u-hide")&&l.style.removeClass(a,"u-hide"),l.style.addClass(t.record,"records__article--has-columns")):a.innerHTML&&(l.style.addClass(a,"u-hide"),l.style.removeClass(t.record,"records__article--has-columns"),a.getAttribute("data-record")===e&&l.style.removeClass(a,"u-hide"))})},e.records.prototype.addFilterTags=function(){var e,a=this.element.querySelector(".js-records-article").childNodes;Array.prototype.forEach.call(a,function(a){a.innerHTML&&(a.getAttribute("data-record")?e=a.getAttribute("data-record"):e&&a.setAttribute("data-record",e))}),this.constructFilters()};var t=document.querySelectorAll('[data-widget="records"]');Array.prototype.map.call(t,function(a){a=new e.records(a)})}(PULSE.app,PULSE.core,PULSE.I18N),function(a,e,l){a.statsCentreCompMenu=function(a){var s=this;s.element=a,s.parentRoute=s.element.getAttribute("data-parent-route"),s.menuItems=s.element.getElementsByTagName("li"),s.itemsToRemove=[],[].forEach.call(s.menuItems,function(a){s.itemsToRemove.push(a.getAttribute("data-name"))}),[].forEach.call(s.menuItems,function(a){var e=a.getAttribute("data-name"),t=window.location.pathname;s.itemsToRemove.forEach(function(a){t=t.replace(a,"")}),-1===t.indexOf(e)&&(t=t.replace(s.parentRoute,s.parentRoute+e)),a.getElementsByTagName("a")[0].setAttribute("href",t),window.location.pathname===t&&l.style.addClass(a,"active")})};for(var t=document.querySelectorAll('[data-widget="stats-centre-comp-menu"]'),s=0;s<t.length;s++)new a.statsCentreCompMenu(t[s])}(PULSE.app,PULSE.app.common,PULSE.core),function(a,e,s){a.statsCentreMenu=function(a){var e=this;e.element=a,e.statsCentreDropdownContainers=e.element.getElementsByClassName("statsCentreDropdownContainer"),e.currentElement=e.element.getElementsByClassName("current")[0],e.statsNavLinkUrl=e.element.getElementsByClassName("statsNavLinkUrl"),e.statsSelections=e.element.getElementsByTagName("a");for(var t=0;t<e.statsSelections.length;t++)if(s.style.hasClass(e.statsSelections[t],"active")){e.currentElement.innerHTML=e.statsSelections[t].getElementsByTagName("span")[0].innerHTML;break}Array.prototype.map.call(e.statsCentreDropdownContainers,function(a){a.getElementsByClassName("active").length<1?s.style.removeClass(a,"open"):s.style.addClass(a,"active")}),e.setListeners()},a.statsCentreMenu.prototype.setListeners=function(){var e=this;Array.prototype.map.call(e.statsCentreDropdownContainers,function(e){["keypress","click"].forEach(function(a){e.addEventListener(a,function(a){13!==a.which&&"click"!==a.type||s.style.toggleClass(e,"open")})})}),["keypress","click"].forEach(function(a){e.currentElement.addEventListener(a,function(a){13!==a.which&&"click"!==a.type||s.style.toggleClass(e.element,"open")})})};for(var t=document.querySelectorAll('[data-widget="stats-centre-menu"]'),l=0;l<t.length;l++)new a.statsCentreMenu(t[l])}(PULSE.app,PULSE.app.common,PULSE.core),function(n,t,i,o,p){n.statsTable=function(a,e){var t,s=this;s.element=a,s.type=a.getAttribute("data-type"),s.requestConfig={},s.requestConfig.page=a.getAttribute("data-page"),s.requestConfig.pageSize=a.getAttribute("data-page-size"),s.requestConfig.statistic=(t=window.location.pathname.split("?")[0].split("/"))[t.length-1],s.requestConfig.compSeasons=a.getAttribute("data-comp-seasons")||-1,s.requestConfig.comps=a.getAttribute("data-comps")||1,s.type.startsWith("player")?("player-pl2"===s.type||"player-u18"===s.type?s.template="playeryouth":s.template="player",s.requestConfig.compCodeForActivePlayer=n.defaultCompCode,s.requestConfig.teams=a.getAttribute("data-teams")||-1,s.requestConfig.nationalities=a.getAttribute("data-nationalities")||-1,s.requestConfig.positions=a.getAttribute("data-positons")||-1):"team-pl2"===s.type||"team-u18"===s.type?s.template="teamyouth":s.template="team",s.requestConfig.altIds=!0,s.numEntries=a.getAttribute("data-num-entries"),s.currentSize=a.getAttribute("data-current-size"),s.filterControllerElement=s.element.querySelector("section.pageFilter"),s.filterControllerElement&&(s.filterController=new n.common.listFilterController(s.filterControllerElement,{dropdowns:n.filterGroups[s.filterControllerElement.getAttribute("data-filter-config")][s.type],delegate:s})),s.topStatsFilterDropdown=s.element.getElementsByClassName("topStatsFilterDropdown"),s.topStatsFilterDropdown&&0<s.topStatsFilterDropdown.length&&(i.dropdown(s.topStatsFilterDropdown[0]),s.topStatsLinks=s.topStatsFilterDropdown[0].getElementsByClassName("topStatsLink")),s.paginationContainer=s.element.getElementsByClassName("paginationContainer"),s.statsTableContainer=s.element.getElementsByClassName("statsTableContainer");var l=s.element.getElementsByClassName("currentStatContainer");l&&0<l.length&&(s.currentStatContainer=l[0]);var o=a.getAttribute("data-stat");s.differentStats=!1,o!=s.requestConfig.statistic?(s.differentStats=!0,s.currentStatContainer.innerHTML=p.lookup("label.stat."+s.requestConfig.statistic)):s.initPagination();var r=s.element.getElementsByClassName("reorderStatsButton");r&&0<r.length&&(s.reorderStatsButton=r[0]),s.setListeners()},n.statsTable.prototype.setListeners=function(){var e=this;e.reorderStatsButton.addEventListener("click",function(a){o.style.toggleClass(e.reorderStatsButton,"asc"),e.requestConfig.sort?e.requestConfig.sort=void 0:e.requestConfig.sort="asc",e.requestConfig.page=0,e.initData()})},n.statsTable.prototype.updateOtherLinks=function(){var a=this;a.topStatsFilterDropdown&&0<a.topStatsFilterDropdown.length&&a.filterController&&a.filterController.hasUrlUpdate()&&a.topStatsLinks&&0<a.topStatsLinks.length&&Array.prototype.map.call(a.topStatsLinks,function(a){var e=a.href.split("?")[0],t=window.location.href.split("?");1<t.length&&(e=e+"?"+t[1]),a.href=e})},n.statsTable.prototype.filterUpdated=function(a,t,e){var s=this,l=!1;a.map(function(a){if(a.config&&a.config.apiParam){var e=t&&a.autoId&&0<a.autoId?a.autoId:a.state.id;(s.requestConfig[a.config.apiParam]!=e||s.differentStats&&t)&&(l=!0),s.requestConfig[a.config.apiParam]=-1!=e?e:void 0}}),(l||e)&&(s.requestConfig.page=0,s.pagination=void 0,s.filterController.setPageLoading(s,s.statsTableContainer[0]),s.initData()),s.updateOtherLinks()},n.statsTable.prototype.filterCleared=function(a){var e=!1;this.requestConfig.sort&&(e=!0),this.requestConfig.sort=void 0,this.filterUpdated(a,!1,e)},n.statsTable.prototype.initPagination=function(){var a=this;if(!a.pagination&&a.paginationContainer&&0<a.paginationContainer.length){var e={page:a.requestConfig.page,pageSize:a.requestConfig.pageSize,numEntries:a.numEntries,currentSize:a.currentSize};a.pagination=new t.pagination(a.paginationContainer[0],{pageInfo:e,callback:a.getPage,target:a,paginationTemplate:n.templates.pagination})}else a.pagination&&a.pagination.updateCurrentSize(a.currentSize)},n.statsTable.prototype.getPage=function(a){this.requestConfig.page=a.page,this.initData()},n.statsTable.prototype.initData=function(a){var e="";switch(this.type){case"player":case"player-pl2":case"player-u18":e="stats.ranked.players";break;case"team":case"team-pl2":case"team-u18":e="stats.ranked.teams"}var t={url:n.common.createApiPath(e,this.requestConfig),method:"GET",callback:this.renderTable,target:this,forceCallback:!0};this.startData(t)},n.statsTable.prototype.startData=function(a){o.data.manager.add(a)},n.statsTable.prototype.renderTable=function(t){var s=this;if(t&&t.stats&&t.stats.content&&0<t.stats.content.length&&s.statsTableContainer&&0<s.statsTableContainer.length){var a=t.stats.content,l="";a.forEach(function(a,e){(a=function(a,e){switch(e){case"player":case"player-pl2":case"player-u18":a.owner&&(a.url=i.generateContentUrl(e,a.owner.id)),a.owner&&a.owner.nationalTeam&&0<Object.keys(a.owner.nationalTeam).length?a.country=a.owner.nationalTeam:a.owner&&a.owner.birth&&a.owner.birth.country&&0<Object.keys(a.owner.birth.country).length&&(a.country=a.owner.birth.country),a.owner&&a.owner.currentTeam?a.team={url:i.generateContentUrl("team",a.owner.currentTeam.club.id,a.owner.currentTeam.club.name.replace(new RegExp(" ","g"),"-")),opta:a.owner.currentTeam.altIds.opta,name:a.owner.currentTeam.name}:a.altteam="-";break;case"team":case"team-pl2":case"team-u18":a.optaId=a.owner&&a.owner.altIds&&a.owner.altIds.opta?a.owner.altIds.opta:void 0,a.badgeSize=25}return a.owner&&(a.url=i.generateContentUrl(e,a.owner.id)),a.value&&(a.value=o.common.commafy(a.value)),a.rowClass="",a}(a,s.type,t.stats.pageInfo.page)).index=parseInt(s.requestConfig.pageSize)*parseInt(s.requestConfig.page)+e+1,l+=Mustache.render(n.templates[s.template],a)}),s.statsTableContainer[0].innerHTML=l,t.stats.pageInfo.numEntries&&(s.numEntries=t.stats.pageInfo.numEntries),s.currentSize=a.length,s.initPagination(),s.type.startsWith("player")&&i.getPhotosForContainer(s.statsTableContainer[0])}else s.statsTableContainer&&0<s.statsTableContainer.length&&(s.statsTableContainer[0].innerHTML=Mustache.render(n.templates.nostatstable,{label:p.lookup("label.nostats")}))};n.filterGroups.setData(function(){var a=document.querySelectorAll('[data-widget="stats-table"]');a=Array.prototype.map.call(a,function(a){return new n.statsTable(a,{})})})}(PULSE.app,PULSE.ui,PULSE.app.common,PULSE.core,PULSE.I18N),function(a){a.topStatsHeader=function(a,e){var t=this;t.element=a,t.headerId=a.getAttribute("data-header-id");var s=document.querySelectorAll('[data-stat-header="'+t.headerId+'"]');s&&0<s.length?Array.prototype.forEach.call(s,function(a){var e=document.createElement("li");e.appendChild(a),t.element.appendChild(e)}):t.element.remove()};for(var e=document.querySelectorAll('[data-widget="top-stats-header"]'),t=0;t<e.length;t++)new a.topStatsHeader(e[t],{})}(PULSE.app,PULSE.ui);