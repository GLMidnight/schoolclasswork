"use strict";!function(e){e.clubNavigation=function(e,t){this.element=e,this.setListeners()},e.clubNavigation.prototype.setListeners=function(){var t=this;this.element.querySelector(".clubNavigation .clubSitesHeading").addEventListener("click",function(e){t.element.classList.toggle("open")})};for(var t=document.querySelectorAll('.clubNavigation[data-script="pl_global-header"]'),n=0;n<t.length;n++)new e.clubNavigation(t[n],{})}(PULSE.app),function(n,e,o){n.mainNavigation=function(e,t){var n=this;n.element=e,n.mainMoreLinksButton=n.element.querySelector(".moreLinks"),n.mobileMenuExpander=n.element.querySelector("#hamburgerToggle"),n.mainSearchButton=n.element.querySelector(".headerSearchButton"),n.searchBarContainer=n.element.querySelector(".searchBarContainer"),n.searchInputContainer=n.element.querySelector(".searchInputContainer"),n.searchInputBtn=n.element.querySelector(".searchInputBtn"),n.searchOverlay=n.element.querySelector(".searchOverlay"),document.activeElement,n.mainLogoElement=document.querySelector(".logoContainer"),n.pageLinks=n.element.querySelector(".pageLinks"),n.dropDownLinks=n.element.querySelectorAll(".pageLinks > li:not(.noDrop)"),n.mobileNav=n.pageLinks.querySelectorAll('[role="button"].navLink'),n.navElement=n.element.querySelector(".navBar"),n.pageLinks=n.element.querySelector(".headerSearchButton"),n.subNav=document.querySelector(".subNav .moreList"),n.subNavMore=document.querySelector(".subNav .moreListBtn"),n.subNavContainer=document.querySelector(".subNav"),n.globalNav=document.querySelector(".masthead .fixedContainer"),n.masthead=document.querySelector(".masthead"),n.clubsList=document.querySelector("nav.clubNavigation"),n.navbarOffsetTop=n.navElement.offsetHeight,n.bottom=n.navElement.offsetTop,n.pageOffsetTop=window.pageYOffset;var a={navWrap:n.subNavContainer,moreLabel:"More"};n.subNavContainer&&(n.moreNav=new PULSE.ui.moreNav(a)),n.setListeners(),n.setHeaderObserver()},n.mainNavigation.prototype.toggleSearch=function(){var e=this;o.style.toggleClass(e.mainSearchButton,"active"),o.style.toggleClass(e.searchBarContainer,"open"),o.style.toggleClass(e.masthead,"searchOpen"),o.style.hasClass(e.searchBarContainer,"open")&&e.searchInputContainer.focus()},n.mainNavigation.prototype.setListeners=function(){var a=this;a.searchOverlay&&a.searchOverlay.addEventListener("click",function(){a.toggleSearch()}),a.searchInputBtn&&a.searchInputBtn.addEventListener("blur",function(e){setTimeout(function(){document.activeElement!=a.searchInputContainer&&a.toggleSearch()},100)}),o.event.listenForMultiple(a.mobileMenuExpander,["keypress","click"],function(){document.querySelector("body").classList.toggle("mastheadOpen"),"true"===a.mobileMenuExpander.getAttribute("aria-expanded")?a.mobileMenuExpander.setAttribute("aria-expanded","false"):a.mobileMenuExpander.setAttribute("aria-expanded","true"),null!==document.querySelector("body .pl-modal.open")&&n.modalsController.closeAll()}),o.event.listenForMultiple(a.subNavMore,["keypress","click"],function(){a.subNav.classList.toggle("open")});for(var e=0;e<a.dropDownLinks.length;e++)a.dropDownLinks[e].addEventListener("keypress",function(e){13===e.which&&(e.preventDefault(),o.style.toggleClass(this,"open"))}),a.dropDownLinks[e].addEventListener("blur",function(e){e.relatedTarget&&null!==e.relatedTarget.closest(".dropdown")||o.style.removeClass(this,"open")},!0);a.mainSearchButton&&o.event.listenForMultiple(a.mainSearchButton,["keypress","click"],function(){a.toggleSearch(!0)});for(var t=0;t<a.mobileNav.length;t++)o.event.listenForMultiple(a.mobileNav[t],["keypress","click"],function(e){var t=e.currentTarget.getAttribute("data-nochildrenlink");if(t)window.location.href=t;else{for(var n=0;n<a.mobileNav.length;n++)a.mobileNav[n].classList.remove("active");e.currentTarget.classList.add("active"),e.currentTarget.classList.contains("clubListMobileButton")?a.clubsList.classList.add("open"):a.clubsList.classList.remove("open")}})},n.mainNavigation.prototype.setHeaderObserver=function(){var e=document.querySelector(".clubNavigation"),t={root:null,rootMargin:"0px",threshold:function(){for(var e=[],t=1;t<=20;t++){var n=t/20;e.push(n)}return e.push(0),e}()};new IntersectionObserver(this.fixNavigation.bind(this),t).observe(e)},n.mainNavigation.prototype.fixNavigation=function(e){var t=this,n=e[0],a=Math.abs(n.boundingClientRect.top),r=t.masthead.getBoundingClientRect().height-a;t.mainLogoElement.style.height=r+"px",0===n.intersectionRatio?o.style.addClass(t.globalNav,"fixed"):0<n.intersectionRatio&&o.style.removeClass(t.globalNav,"fixed")};var t=document.querySelectorAll('.navContainer[data-script="pl_global-header"]');Array.prototype.map.call(t,function(e){e=new n.mainNavigation(e,{})})}(PULSE.app,PULSE.app.common,PULSE.core),function(e,n){e.searchHeaderRedirect=function(e,t){var n=this;n.element=e,n.url="/search",n.searchInputContainer=n.element.querySelector(".searchInputContainer"),n.searchButtonContainer=n.element.querySelector(".searchButtonContainer"),n.term="",n.setListeners()},e.searchHeaderRedirect.prototype.setListeners=function(){var t=this;t.searchInputContainer.addEventListener("keypress",function(e){"13"==(e.keyCode||e.which)&&t.searchTerm()}),t.searchInputContainer.addEventListener("keyup",function(e){0<t.searchInputContainer.value.length?n.style.addClass(t.searchButtonContainer,"active"):n.style.removeClass(t.searchButtonContainer,"active")}),t.searchButtonContainer.addEventListener("click",function(e){t.searchTerm()})},e.searchHeaderRedirect.prototype.searchTerm=function(){if(n.style.hasClass(this.searchButtonContainer,"active")){var e=this.url,t=this.searchInputContainer.value;t&&""!=t&&(e+="?term="+t),window.location.href=e}};for(var t=document.querySelectorAll('[data-widget="search-header-redirect"]'),a=0;a<t.length;a++)new e.searchHeaderRedirect(t[a],{})}(PULSE.app,PULSE.core,PULSE.app.common);